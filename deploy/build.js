!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("fs"),require("path"),require("os"),require("http"),require("https"),require("url"),require("stream"),require("assert"),require("ms"),require("tty"),require("util"),require("supports-color"),require("zlib"),require("dayjs/plugin/duration"),require("dayjs/plugin/localizedFormat")):"function"==typeof define&&define.amd?define(["exports","fs","path","os","http","https","url","stream","assert","ms","tty","util","supports-color","zlib","dayjs/plugin/duration","dayjs/plugin/localizedFormat"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).wxNotifyServer={},e.require$$0,e.path$1,e.require$$2,e.require$$1$1,e.require$$2$2,e.require$$0$3,e.require$$3,e.require$$4,e.require$$0$1,e.require$$0$2,e.require$$1,e.require$$2$1,e.require$$8,e.duration,e.LocalizedFormat)}(this,(function(e,t,n,r,s,o,i,a,c,u,l,f,h,p,d,g){"use strict";function m(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var y=m(t),v=m(n),b=m(r),w=m(s),E=m(o),O=m(i),x=m(a),S=m(c),_=m(u),L=m(l),N=m(f),A=m(h),T=m(p),M=m(d),C=m(g),k=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{});const $=y.default,R=v.default,P=b.default;function I(e){console.log("[dotenv][DEBUG] "+e)}const B="\n",j=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,F=/\\n/g,D=/\r\n|\n|\r/;function Y(e,t){const n=!(!t||!t.debug),r={};return(""+e).split(D).forEach((function(e,t){const s=e.match(j);if(null!=s){const e=s[1];let t=s[2]||"";const n=t.length-1,o='"'===t[0]&&'"'===t[n];"'"===t[0]&&"'"===t[n]||o?(t=t.substring(1,n),o&&(t=t.replace(F,B))):t=t.trim(),r[e]=t}else n&&I(`did not match key and value when parsing line ${t+1}: ${e}`)})),r}function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",i=s.asyncIterator||"@@asyncIterator",a=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,s){var o=Object.create((t&&t.prototype instanceof h?t:h).prototype),i=new _(s||[]);return r(o,"_invoke",{value:E(e,n,i)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var g={};c(g,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==t&&n.call(y,o)&&(g=y);var v=d.prototype=h.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function s(r,o,i,a){var c=l(e[r],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){s("next",e,i,a)}),(function(e){s("throw",e,i,a)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return s("throw",e,i,a)}))}a(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){s(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(s,o){if("executing"===r)throw Error("Generator is already running");if("completed"===r){if("throw"===s)throw o;return N()}for(n.method=s,n.arg=o;;){var i=n.delegate;if(i){var a=O(i,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var s=l(r,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,f;var o=s.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,s,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,s),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],i=o.completion;if("root"===o.tryLoc)return r("end");if(this.prev>=o.tryLoc){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(o.catchLoc>this.prev)return r(o.catchLoc,!0);if(o.finallyLoc>this.prev)return r(o.finallyLoc)}else if(a){if(o.catchLoc>this.prev)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(o.finallyLoc>this.prev)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(this.prev>=s.tryLoc&&n.call(s,"finallyLoc")&&s.finallyLoc>this.prev){var o=s;break}}o&&("break"===e||"continue"===e)&&t>=o.tryLoc&&o.finallyLoc>=t&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;S(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function U(e,t,n,r,s,o,i){try{var a=e[o](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(e){U(o,r,s,i,a,"next",e)}function a(e){U(o,r,s,i,a,"throw",e)}i(void 0)}))}}
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */function J(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);r.length>s;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}k.config=function(e){let t=R.resolve(process.cwd(),".env"),n="utf8",r=!1;var s;e&&(null!=e.path&&(t="~"===(s=e.path)[0]?R.join(P.homedir(),s.slice(1)):s),null!=e.encoding&&(n=e.encoding),null!=e.debug&&(r=!0));try{const e=Y($.readFileSync(t,{encoding:n}),{debug:r});return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(process.env,t)?r&&I(`"${t}" is already defined in \`process.env\` and will not be overwritten`):process.env[t]=e[t]})),{parsed:e}}catch(e){return{error:e}}},k.parse=Y;var K={exports:{}},Q=function(e,t){return function(){for(var n=Array(arguments.length),r=0;n.length>r;r++)n[r]=arguments[r];return e.apply(t,n)}},H=Q,z=Object.prototype.toString;function V(e){return"[object Array]"===z.call(e)}function G(e){return void 0===e}function X(e){return null!==e&&"object"==typeof e}function Z(e){if("[object Object]"!==z.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function ee(e){return"[object Function]"===z.call(e)}function te(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),V(e))for(var n=0,r=e.length;r>n;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}var ne={isArray:V,isArrayBuffer:function(e){return"[object ArrayBuffer]"===z.call(e)},isBuffer:function(e){return null!==e&&!G(e)&&null!==e.constructor&&!G(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:X,isPlainObject:Z,isUndefined:G,isDate:function(e){return"[object Date]"===z.call(e)},isFile:function(e){return"[object File]"===z.call(e)},isBlob:function(e){return"[object Blob]"===z.call(e)},isFunction:ee,isStream:function(e){return X(e)&&ee(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:te,merge:function e(){var t={};function n(n,r){t[r]=Z(t[r])&&Z(n)?e(t[r],n):Z(n)?e({},n):V(n)?n.slice():n}for(var r=0,s=arguments.length;s>r;r++)te(arguments[r],n);return t},extend:function(e,t,n){return te(t,(function(t,r){e[r]=n&&"function"==typeof t?H(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},re=ne;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var oe=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(re.isURLSearchParams(t))r=""+t;else{var s=[];re.forEach(t,(function(e,t){null!=e&&(re.isArray(e)?t+="[]":e=[e],re.forEach(e,(function(e){re.isDate(e)?e=e.toISOString():re.isObject(e)&&(e=JSON.stringify(e)),s.push(se(t)+"="+se(e))})))})),r=s.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},ie=ne;function ae(){this.handlers=[]}ae.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},ae.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ae.prototype.forEach=function(e){ie.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ce=ae,ue=ne,le=function(e,t,n,r,s){return e.config=t,n&&(e.code=n),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},fe=le,he=function(e,t,n,r,s){return fe(Error(e),t,n,r,s)},pe=he,de=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(pe("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},ge=ne,me=ge.isStandardBrowserEnv()?{write:function(e,t,n,r,s,o){var i=[];i.push(e+"="+encodeURIComponent(t)),ge.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),ge.isString(r)&&i.push("path="+r),ge.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ye=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},ve=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},be=function(e,t){return e&&!ye(t)?ve(e,t):t},we=ne,Ee=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Oe=ne,xe=Oe.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Oe.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function Se(e){this.message=e}Se.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Se.prototype.__CANCEL__=!0;var _e=Se,Le=ne,Ne=de,Ae=me,Te=oe,Me=be,Ce=function(e){var t,n,r,s={};return e?(we.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=we.trim(e.substr(0,r)).toLowerCase(),n=we.trim(e.substr(r+1)),t){if(s[t]&&Ee.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s},ke=xe,$e=he,Re=jt,Pe=_e,Ie=function(e){return new Promise((function(t,n){var r,s=e.data,o=e.headers,i=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Le.isFormData(s)&&delete o["Content-Type"];var c=new XMLHttpRequest;e.auth&&(o.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password?unescape(encodeURIComponent(e.auth.password)):"")));var u=Me(e.baseURL,e.url);function l(){if(c){var r="getAllResponseHeaders"in c?Ce(c.getAllResponseHeaders()):null;Ne((function(e){t(e),a()}),(function(e){n(e),a()}),{data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),Te(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(n($e("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){n($e("Network Error",e,null,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n($e(t,e,(e.transitional||Re.transitional).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Le.isStandardBrowserEnv()){var f=(e.withCredentials||ke(u))&&e.xsrfCookieName?Ae.read(e.xsrfCookieName):void 0;f&&(o[e.xsrfHeaderName]=f)}"setRequestHeader"in c&&Le.forEach(o,(function(e,t){void 0===s&&"content-type"===t.toLowerCase()?delete o[t]:c.setRequestHeader(t,e)})),Le.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&"json"!==i&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new Pe("canceled"):e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),s||(s=null),c.send(s)}))},Be={exports:{}},je={exports:{}},Fe={exports:{}};var De=function(e){function t(e){let r,s,o,i=null;function a(...e){if(!a.enabled)return;const n=a,s=Number(new Date);n.diff=s-(r||s),n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,s)=>{if("%%"===r)return"%";o++;const i=t.formatters[s];if("function"==typeof i){r=i.call(n,e[o]),e.splice(o,1),o--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return(""+e).substring(2,(""+e).length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;s>n;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;r>n;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;r>n;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=_.default,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;e.length>t;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};!function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))})),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=De(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(Fe,Fe.exports);var Ye,qe={exports:{}};!function(e,t){const n=L.default,r=N.default;t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;n.length>r;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(r.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:s}=this;if(s){const t=this.color,s="[3"+(8>t?t:"8;5;"+t),o=`  ${s};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=r.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=A.default;e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=De(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)}}(qe,qe.exports),je.exports="undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?Fe.exports:qe.exports;var Ue=O.default,We=Ue.URL,Je=w.default,Ke=E.default,Qe=x.default.Writable,He=S.default,ze=function(){if(!Ye){try{Ye=je.exports("follow-redirects")}catch(e){}"function"!=typeof Ye&&(Ye=function(){})}Ye.apply(null,arguments)},Ve=["abort","aborted","connect","error","socket","timeout"],Ge=Object.create(null);Ve.forEach((function(e){Ge[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var Xe=ct("ERR_INVALID_URL","Invalid URL",TypeError),Ze=ct("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),et=ct("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),tt=ct("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),nt=ct("ERR_STREAM_WRITE_AFTER_END","write after end");function rt(e,t){Qe.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function st(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(r){var s=r+":",o=n[s]=e[r],i=t[r]=Object.create(o);Object.defineProperties(i,{request:{value:function(e,r,o){if(lt(e)){var i;try{i=it(new We(e))}catch(t){i=Ue.parse(e)}if(!lt(i.protocol))throw new Xe({input:e});e=i}else We&&e instanceof We?e=it(e):(o=r,r=e,e={protocol:s});return ft(r)&&(o=r,r=null),(r=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,r)).nativeProtocols=n,lt(r.host)||lt(r.hostname)||(r.hostname="::1"),He.equal(r.protocol,s,"protocol mismatch"),ze("options",r),new rt(r,o)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var r=i.request(e,t,n);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})})),t}function ot(){}function it(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function at(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return null==n?void 0:(n+"").trim()}function ct(e,t,n){function r(n){Error.captureStackTrace(this,this.constructor),Object.assign(this,n||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return(r.prototype=new(n||Error)).constructor=r,r.prototype.name="Error ["+e+"]",r}function ut(e){for(var t of Ve)e.removeListener(t,Ge[t]);e.on("error",ot),e.abort()}function lt(e){return"string"==typeof e||e instanceof String}function ft(e){return"function"==typeof e}(rt.prototype=Object.create(Qe.prototype)).abort=function(){ut(this._currentRequest),this.emit("abort")},rt.prototype.write=function(e,t,n){if(this._ending)throw new nt;if(!lt(e)&&("object"!=typeof(r=e)||!("length"in r)))throw new TypeError("data should be a string, Buffer or Uint8Array");var r;ft(t)&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length>this._options.maxBodyLength?(this.emit("error",new tt),this.abort()):(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):n&&n()},rt.prototype.end=function(e,t,n){if(ft(e)?(n=e,e=t=null):ft(t)&&(n=t,t=null),e){var r=this,s=this._currentRequest;this.write(e,t,(function(){r._ended=!0,s.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},rt.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},rt.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},rt.prototype.setTimeout=function(e,t){var n=this;function r(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function s(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),o()}),e),r(t)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){rt.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(rt.prototype,e,{get:function(){return this._currentRequest[e]}})})),rt.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");0>t?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},rt.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var s of(r._redirectable=this,Ve))r.on(s,Ge[s]);if(this._currentUrl=/^\//.test(this._options.path)?Ue.format(this._options):this._options.path,this._isRedirect){var o=0,i=this,a=this._requestBodyBuffers;!function e(t){if(r===i._currentRequest)if(t)i.emit("error",t);else if(a.length>o){var n=a[o++];r.finished||r.write(n.data,n.encoding,e)}else i._ended&&r.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},rt.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||!1===this._options.followRedirects||300>t||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(ut(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new et);else{var r,s=this._options.beforeRedirect;s&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var o=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],at(/^content-/i,this._options.headers));var i,a=at(/^host$/i,this._options.headers),c=Ue.parse(this._currentUrl),u=a||c.host,l=/^\w+:/.test(n)?this._currentUrl:Ue.format(Object.assign(c,{host:u}));try{i=Ue.resolve(l,n)}catch(e){return void this.emit("error",new Ze({cause:e}))}ze("redirecting to",i),this._isRedirect=!0;var f=Ue.parse(i);if(Object.assign(this._options,f),(f.protocol!==c.protocol&&"https:"!==f.protocol||f.host!==u&&!function(e,t){He(lt(e)&&lt(t));var n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(f.host,u))&&at(/^(?:authorization|cookie)$/i,this._options.headers),ft(s)){var h={headers:e.headers,statusCode:t},p={url:l,method:o,headers:r};try{s(this._options,h,p)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new Ze({cause:e}))}}},Be.exports=st({http:Je,https:Ke}),Be.exports.wrap=st;var ht="0.24.0",pt=ne,dt=de,gt=be,mt=oe,yt=w.default,vt=E.default,bt=Be.exports.http,wt=Be.exports.https,Et=O.default,Ot=T.default,xt=ht,St=he,_t=le,Lt=jt,Nt=_e,At=/https:?/;function Tt(e,t,n){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=n,t.auth){var r=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+r}e.beforeRedirect=function(e){e.headers.host=e.host,Tt(e,t,e.href)}}var Mt=function(e){return new Promise((function(t,n){var r;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}var o=function(e){s(),t(e)},i=function(e){s(),n(e)},a=e.data,c=e.headers,u={};if(Object.keys(c).forEach((function(e){u[e.toLowerCase()]=e})),"user-agent"in u?c[u["user-agent"]]||delete c[u["user-agent"]]:c["User-Agent"]="axios/"+xt,a&&!pt.isStream(a)){if(Buffer.isBuffer(a));else if(pt.isArrayBuffer(a))a=Buffer.from(new Uint8Array(a));else{if(!pt.isString(a))return i(St("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));a=Buffer.from(a,"utf-8")}u["content-length"]||(c["Content-Length"]=a.length)}var l=void 0;e.auth&&(l=(e.auth.username||"")+":"+(e.auth.password||""));var f=gt(e.baseURL,e.url),h=Et.parse(f),p=h.protocol||"http:";if(!l&&h.auth){var d=h.auth.split(":");l=(d[0]||"")+":"+(d[1]||"")}l&&u.authorization&&delete c[u.authorization];var g=At.test(p),m=g?e.httpsAgent:e.httpAgent,y={path:mt(h.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:c,agent:m,agents:{http:e.httpAgent,https:e.httpsAgent},auth:l};e.socketPath?y.socketPath=e.socketPath:(y.hostname=h.hostname,y.port=h.port);var v,b=e.proxy;if(!b&&!1!==b){var w=p.slice(0,-1)+"_proxy",E=process.env[w]||process.env[w.toUpperCase()];if(E){var O=Et.parse(E),x=process.env.no_proxy||process.env.NO_PROXY,S=!0;if(x)S=!x.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&h.hostname.substr(h.hostname.length-e.length)===e||h.hostname===e))}));if(S&&(b={host:O.hostname,port:O.port,protocol:O.protocol},O.auth)){var _=O.auth.split(":");b.auth={username:_[0],password:_[1]}}}}b&&(y.headers.host=h.hostname+(h.port?":"+h.port:""),Tt(y,b,p+"//"+h.hostname+(h.port?":"+h.port:"")+y.path));var L=g&&(!b||At.test(b.protocol));e.transport?v=e.transport:0===e.maxRedirects?v=L?vt:yt:(e.maxRedirects&&(y.maxRedirects=e.maxRedirects),v=L?wt:bt),e.maxBodyLength>-1&&(y.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&(y.insecureHTTPParser=e.insecureHTTPParser);var N=v.request(y,(function(t){if(!N.aborted){var n=t,r=t.req||N;if(204!==t.statusCode&&"HEAD"!==r.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=n.pipe(Ot.createUnzip()),delete t.headers["content-encoding"]}var s={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:r};if("stream"===e.responseType)s.data=n,dt(o,i,s);else{var a=[],c=0;n.on("data",(function(t){a.push(t),c+=t.length,e.maxContentLength>-1&&c>e.maxContentLength&&(n.destroy(),i(St("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,r)))})),n.on("error",(function(t){N.aborted||i(_t(t,e,null,r))})),n.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=pt.stripBOM(t))),s.data=t,dt(o,i,s)}))}}}));if(N.on("error",(function(t){N.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||i(_t(t,e,null,N))})),e.timeout){var A=parseInt(e.timeout,10);if(isNaN(A))return void i(St("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",N));N.setTimeout(A,(function(){N.abort(),i(St("timeout of "+A+"ms exceeded",e,(e.transitional||Lt.transitional).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",N))}))}(e.cancelToken||e.signal)&&(r=function(e){N.aborted||(N.abort(),i(!e||e&&e.type?new Nt("canceled"):e))},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),pt.isStream(a)?a.on("error",(function(t){i(_t(t,e,null,N))})).pipe(N):N.end(a)}))},Ct=ne,kt=function(e,t){ue.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},$t=le,Rt={"Content-Type":"application/x-www-form-urlencoded"};function Pt(e,t){!Ct.isUndefined(e)&&Ct.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var It,Bt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?It=Ie:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(It=Mt),It),transformRequest:[function(e,t){return kt(t,"Accept"),kt(t,"Content-Type"),Ct.isFormData(e)||Ct.isArrayBuffer(e)||Ct.isBuffer(e)||Ct.isStream(e)||Ct.isFile(e)||Ct.isBlob(e)?e:Ct.isArrayBufferView(e)?e.buffer:Ct.isURLSearchParams(e)?(Pt(t,"application/x-www-form-urlencoded;charset=utf-8"),""+e):Ct.isObject(e)||t&&"application/json"===t["Content-Type"]?(Pt(t,"application/json"),function(e,t,n){if(Ct.isString(e))try{return(t||JSON.parse)(e),Ct.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Bt.transitional,n=!(t&&t.silentJSONParsing)&&"json"===this.responseType;if(n||t&&t.forcedJSONParsing&&Ct.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw $t(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&300>e},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ct.forEach(["delete","get","head"],(function(e){Bt.headers[e]={}})),Ct.forEach(["post","put","patch"],(function(e){Bt.headers[e]=Ct.merge(Rt)}));var jt=Bt,Ft=ne,Dt=jt,Yt=function(e){return!(!e||!e.__CANCEL__)},qt=ne,Ut=function(e,t,n){var r=this||Dt;return Ft.forEach(n,(function(n){e=n.call(r,e,t)})),e},Wt=Yt,Jt=jt,Kt=_e;function Qt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kt("canceled")}var Ht=ne,zt=function(e,t){t=t||{};var n={};function r(e,t){return Ht.isPlainObject(e)&&Ht.isPlainObject(t)?Ht.merge(e,t):Ht.isPlainObject(t)?Ht.merge({},t):Ht.isArray(t)?t.slice():t}function s(n){return Ht.isUndefined(t[n])?Ht.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!Ht.isUndefined(t[e]))return r(void 0,t[e])}function i(n){return Ht.isUndefined(t[n])?Ht.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function a(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a};return Ht.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||s,r=t(e);Ht.isUndefined(r)&&t!==a||(n[e]=r)})),n},Vt=ht,Gt={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Gt[e]=function(n){return typeof n===e||"a"+(1>t?"n ":" ")+e}}));var Xt={};Gt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Vt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,s,o){if(!1===e)throw Error(r(s," has been removed"+(t?" in "+t:"")));return t&&!Xt[s]&&(Xt[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,o)}};var Zt={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),s=r.length;s-- >0;){var o=r[s],i=t[o];if(i){var a=e[o],c=void 0===a||i(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:Gt},en=ne,tn=oe,nn=ce,rn=function(e){return Qt(e),e.headers=e.headers||{},e.data=Ut.call(e,e.data,e.headers,e.transformRequest),e.headers=qt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),qt.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Jt.adapter)(e).then((function(t){return Qt(e),t.data=Ut.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Wt(t)||(Qt(e),t&&t.response&&(t.response.data=Ut.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},sn=zt,on=Zt,an=on.validators;function cn(e){this.defaults=e,this.interceptors={request:new nn,response:new nn}}cn.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=sn(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var t=e.transitional;void 0!==t&&on.assertOptions(t,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var s,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var i=[rn,void 0];for(Array.prototype.unshift.apply(i,n),i=i.concat(o),s=Promise.resolve(e);i.length;)s=s.then(i.shift(),i.shift());return s}for(var a=e;n.length;){var c=n.shift(),u=n.shift();try{a=c(a)}catch(e){u(e);break}}try{s=rn(a)}catch(e){return Promise.reject(e)}for(;o.length;)s=s.then(o.shift(),o.shift());return s},cn.prototype.getUri=function(e){return e=sn(this.defaults,e),tn(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},en.forEach(["delete","get","head","options"],(function(e){cn.prototype[e]=function(t,n){return this.request(sn(n||{},{method:e,url:t,data:(n||{}).data}))}})),en.forEach(["post","put","patch"],(function(e){cn.prototype[e]=function(t,n,r){return this.request(sn(r||{},{method:e,url:t,data:n}))}}));var un=cn,ln=_e;function fn(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;r>t;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new ln(e),t(n.reason))}))}fn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},fn.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},fn.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},fn.source=function(){var e;return{token:new fn((function(t){e=t})),cancel:e}};var hn=fn,pn=ne,dn=Q,gn=un,mn=zt;var yn=function e(t){var n=new gn(t),r=dn(gn.prototype.request,n);return pn.extend(r,gn.prototype,n),pn.extend(r,n),r.create=function(n){return e(mn(t,n))},r}(jt);yn.Axios=gn,yn.Cancel=_e,yn.CancelToken=hn,yn.isCancel=Yt,yn.VERSION=ht,yn.all=function(e){return Promise.all(e)},yn.spread=function(e){return function(t){return e.apply(null,t)}},yn.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},K.exports=yn,K.exports.default=yn;var vn=K.exports;k.config();var bn=process.env.TIAN_API_KEY,wn=vn.create({withCredentials:!0,timeout:6e4});wn.interceptors.response.use((function(e){var t=e.data;if(200===t.code)return t.newslist}),(function(e){console.log("err"+e)}));var En;function On(e,t){return function(e,t){return console.log("config",e),wn.request("string"==typeof e?t?Object.assign({url:e},t):{url:e}:e)}(Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e.params||{}),{key:bn}),method:"GET"}),t)}!function(e){e.weather="http://api.tianapi.com/tianqi/index",e.dailyBriefing="http://api.tianapi.com/bulletin/index",e.topNews="http://api.tianapi.com/topnews/index",e.songLyrics="http://api.tianapi.com/zmsc/index",e.dayEnglish="http://api.tianapi.com/everyday/index",e.oneMagazines="http://api.tianapi.com/one/index",e.storybook="http://api.tianapi.com/story/index",e.netEaseCloud="http://api.tianapi.com/hotreview/index",e.lunarDate="http://api.tianapi.com/lunar/index",e.saylove="http://api.tianapi.com/saylove/index",e.caihongpi="http://api.tianapi.com/caihongpi/index",e.inspirationalWord="http://api.tianapi.com/lzmy/index",e.joke="http://api.tianapi.com/joke/index",e.oneWord="https://v1.hitokoto.cn/?encode=json",e.random_love="https://api.vvhan.com/api/love"}(En||(En={}));var xn=function(){function e(e){this.key=e||""}var t=e.prototype;return t.getKey=function(){return this.key},t.getWeather=function(){var e=W(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.weather,params:{city:t,type:"1"}});case 2:return console.log("weather",n=e.sent),e.abrupt("return",null==n?void 0:n[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getDailyBriefing=function(){var e=W(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.dailyBriefing});case 2:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getTianTopNews=function(){var e=W(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.topNews});case 2:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getSongLyrics=function(){var e=W(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.songLyrics});case 2:return e.abrupt("return",null==(t=e.sent)?void 0:t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getDayEnglish=function(){var e=W(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.dayEnglish});case 2:return e.abrupt("return",null==(t=e.sent)?void 0:t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getOneMagazines=function(){var e=W(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.oneMagazines});case 2:return e.abrupt("return",null==(t=e.sent)?void 0:t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getStorybook=function(){var e=W(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.storybook});case 2:return e.abrupt("return",null==(t=e.sent)?void 0:t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getNetEaseCloud=function(){var e=W(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.netEaseCloud});case 2:return e.abrupt("return",null==(t=e.sent)?void 0:t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getLunarDate=function(){var e=W(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.lunarDate,params:{date:t}});case 2:return e.abrupt("return",null==(n=e.sent)?void 0:n[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getSaylove=function(){var e=W(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.saylove});case 2:return e.abrupt("return",null==(t=e.sent)?void 0:t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getCaihongpi=function(){var e=W(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On({url:En.caihongpi});case 2:return e.abrupt("return",null==(t=e.sent)?void 0:t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getJoke=function(){var e=W(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=6),e.next=3,On({url:En.joke,params:{num:t}});case 3:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getOneWord=function(){var e=W(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vn(En.oneWord,{timeout:6e4});case 3:return e.abrupt("return",e.sent.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),t.getRandomLove=function(){var e=W(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vn(En.random_love,{timeout:6e4});case 3:return e.abrupt("return",e.sent.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),e}(),Sn=new xn,_n={},Ln={},Nn={};const An={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Tn={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"};function Mn(e){const t=[0];let n=e.indexOf("\n");for(;-1!==n;)n+=1,t.push(n),n=e.indexOf("\n",n);return t}function Cn(e){let t,n;return"string"==typeof e?(t=Mn(e),n=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=Mn(e.context.src)),t=e.lineStarts,n=e.context.src)),{lineStarts:t,src:n}}function kn(e,t){if("number"!=typeof e||0>e)return null;const{lineStarts:n,src:r}=Cn(t);if(!n||!r||e>r.length)return null;for(let t=0;n.length>t;++t){const r=n[t];if(r>e)return{line:t,col:e-n[t-1]+1};if(e===r)return{line:t+1,col:1}}const s=n.length;return{line:s,col:e-n[s-1]+1}}function $n({start:e,end:t},n,r=80){let s=function(e,t){const{lineStarts:n,src:r}=Cn(t);if(!n||1>e||e>n.length)return null;const s=n[e-1];let o=n[e];for(;o&&o>s&&"\n"===r[o-1];)--o;return r.slice(s,o)}(e.line,n);if(!s)return null;let{col:o}=e;if(s.length>r)if(r-10<o){const e=Math.round(r/2);s.length>o+e&&(s=s.substr(0,o+e-1)+"…"),o-=s.length-r,s="…"+s.substr(1-r)}else s=s.substr(0,r-1)+"…";let i=1,a="";t&&(t.line!==e.line||o+(t.col-e.col)>r+1?(i=Math.min(s.length+1,r)-o,a="…"):i=t.col-e.col);return`${s}\n${o>1?" ".repeat(o-1):""}${"^".repeat(i)}${a}`}class Rn{static copy(e){return new Rn(e.start,e.end)}constructor(e,t){this.start=e,this.end=t||e}isEmpty(){return"number"!=typeof this.start||!this.end||this.start>=this.end}setOrigRange(e,t){const{start:n,end:r}=this;if(0===e.length||e[0]>=r)return this.origStart=n,this.origEnd=r,t;let s=t;for(;e.length>s&&n>=e[s];)++s;this.origStart=n+s;const o=s;for(;e.length>s&&r>e[s];)++s;return this.origEnd=r+s,o}}class Pn{static addStringTerminator(e,t,n){if("\n"===n[n.length-1])return n;const r=Pn.endOfWhiteSpace(e,t);return e.length>r&&"\n"!==e[r]?n:n+"\n"}static atDocumentBoundary(e,t,n){const r=e[t];if(!r)return!0;const s=e[t-1];if(s&&"\n"!==s)return!1;if(n){if(r!==n)return!1}else if(r!==An.DIRECTIVES_END&&r!==An.DOCUMENT_END)return!1;if(e[t+1]!==r||e[t+2]!==r)return!1;const o=e[t+3];return!o||"\n"===o||"\t"===o||" "===o}static endOfIdentifier(e,t){let n=e[t];const r="<"===n,s=r?["\n","\t"," ",">"]:["\n","\t"," ","[","]","{","}",","];for(;n&&-1===s.indexOf(n);)n=e[t+=1];return r&&">"===n&&(t+=1),t}static endOfIndent(e,t){let n=e[t];for(;" "===n;)n=e[t+=1];return t}static endOfLine(e,t){let n=e[t];for(;n&&"\n"!==n;)n=e[t+=1];return t}static endOfWhiteSpace(e,t){let n=e[t];for(;"\t"===n||" "===n;)n=e[t+=1];return t}static startOfLine(e,t){let n=e[t-1];if("\n"===n)return t;for(;n&&"\n"!==n;)n=e[t-=1];return t+1}static endOfBlockIndent(e,t,n){const r=Pn.endOfIndent(e,n);if(r>n+t)return r;{const t=Pn.endOfWhiteSpace(e,r),n=e[t];if(!n||"\n"===n)return t}return null}static atBlank(e,t,n){const r=e[t];return"\n"===r||"\t"===r||" "===r||n&&!r}static nextNodeIsIndented(e,t,n){return!(!e||0>t)&&(t>0||n&&"-"===e)}static normalizeOffset(e,t){const n=e[t];return n?"\n"!==n&&"\n"===e[t-1]?t-1:Pn.endOfWhiteSpace(e,t):t}static foldNewline(e,t,n){let r=0,s=!1,o="",i=e[t+1];for(;" "===i||"\t"===i||"\n"===i;){switch(i){case"\n":r=0,t+=1,o+="\n";break;case"\t":r>n||(s=!0),t=Pn.endOfWhiteSpace(e,t+2)-1;break;case" ":r+=1,t+=1}i=e[t+1]}return o||(o=" "),i&&n>=r&&(s=!0),{fold:o,offset:t,error:s}}constructor(e,t,n){Object.defineProperty(this,"context",{value:n||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=t||[],this.type=e,this.value=null}getPropValue(e,t,n){if(!this.context)return null;const{src:r}=this.context,s=this.props[e];return s&&r[s.start]===t?r.slice(s.start+(n?1:0),s.end):null}get anchor(){for(let e=0;this.props.length>e;++e){const t=this.getPropValue(e,An.ANCHOR,!0);if(null!=t)return t}return null}get comment(){const e=[];for(let t=0;this.props.length>t;++t){const n=this.getPropValue(t,An.COMMENT,!0);null!=n&&e.push(n)}return e.length>0?e.join("\n"):null}commentHasRequiredWhitespace(e){const{src:t}=this.context;if(this.header&&e===this.header.end)return!1;if(!this.valueRange)return!1;const{end:n}=this.valueRange;return e!==n||Pn.atBlank(t,n-1)}get hasComment(){if(this.context){const{src:e}=this.context;for(let t=0;this.props.length>t;++t)if(e[this.props[t].start]===An.COMMENT)return!0}return!1}get hasProps(){if(this.context){const{src:e}=this.context;for(let t=0;this.props.length>t;++t)if(e[this.props[t].start]!==An.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return-1!==[Tn.FLOW_MAP,Tn.FLOW_SEQ,Tn.QUOTE_DOUBLE,Tn.QUOTE_SINGLE].indexOf(this.type)}get rangeAsLinePos(){if(!this.range||!this.context)return;const e=kn(this.range.start,this.context.root);if(!e)return;return{start:e,end:kn(this.range.end,this.context.root)}}get rawValue(){if(!this.valueRange||!this.context)return null;const{start:e,end:t}=this.valueRange;return this.context.src.slice(e,t)}get tag(){for(let e=0;this.props.length>e;++e){const t=this.getPropValue(e,An.TAG,!1);if(null!=t){if("<"===t[1])return{verbatim:t.slice(2,-1)};{const[e,n,r]=t.match(/^(.*!)([^!]*)$/);return{handle:n,suffix:r}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;const{start:e,end:t}=this.valueRange,{src:n}=this.context;for(let r=e;t>r;++r)if("\n"===n[r])return!0;return!1}parseComment(e){const{src:t}=this.context;if(t[e]===An.COMMENT){const n=Pn.endOfLine(t,e+1),r=new Rn(e,n);return this.props.push(r),n}return e}setOrigRanges(e,t){return this.range&&(t=this.range.setOrigRange(e,t)),this.valueRange&&this.valueRange.setOrigRange(e,t),this.props.forEach((n=>n.setOrigRange(e,t))),t}toString(){const{context:{src:e},range:t,value:n}=this;if(null!=n)return n;const r=e.slice(t.start,t.end);return Pn.addStringTerminator(e,t.end,r)}}class In extends Error{constructor(e,t,n){if(!(n&&t instanceof Pn))throw Error("Invalid arguments for new "+e);super(),this.name=e,this.message=n,this.source=t}makePretty(){if(!this.source)return;this.nodeType=this.source.type;const e=this.source.context&&this.source.context.root;if("number"==typeof this.offset){this.range=new Rn(this.offset,this.offset+1);const t=e&&kn(this.offset,e);if(t){this.linePos={start:t,end:{line:t.line,col:t.col+1}}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){const{line:t,col:n}=this.linePos.start;this.message+=` at line ${t}, column ${n}`;const r=e&&$n(this.linePos,e);r&&(this.message+=`:\n\n${r}\n`)}delete this.source}}class Bn extends In{constructor(e,t){super("YAMLSemanticError",e,t)}}class jn extends Pn{static endOfLine(e,t,n){let r=e[t],s=t;for(;r&&"\n"!==r&&(!n||"["!==r&&"]"!==r&&"{"!==r&&"}"!==r&&","!==r);){const t=e[s+1];if(":"===r&&(!t||"\n"===t||"\t"===t||" "===t||n&&","===t))break;if((" "===r||"\t"===r)&&"#"===t)break;s+=1,r=t}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:t}=this.valueRange;const{src:n}=this.context;let r=n[t-1];for(;t>e&&("\n"===r||"\t"===r||" "===r);)r=n[--t-1];let s="";for(let r=e;t>r;++r){const e=n[r];if("\n"===e){const{fold:e,offset:t}=Pn.foldNewline(n,r,-1);s+=e,r=t}else if(" "===e||"\t"===e){const o=r;let i=n[r+1];for(;t>r&&(" "===i||"\t"===i);)r+=1,i=n[r+1];"\n"!==i&&(s+=r>o?n.slice(o,r+1):e)}else s+=e}const o=n[e];switch(o){case"\t":return{errors:[new Bn(this,"Plain value cannot start with a tab character")],str:s};case"@":case"`":return{errors:[new Bn(this,"Plain value cannot start with reserved character "+o)],str:s};default:return s}}parseBlockValue(e){const{indent:t,inFlow:n,src:r}=this.context;let s=e,o=e;for(let e=r[s];"\n"===e&&!Pn.atDocumentBoundary(r,s+1);e=r[s]){const e=Pn.endOfBlockIndent(r,t,s+1);if(null===e||"#"===r[e])break;"\n"===r[e]?s=e:(o=jn.endOfLine(r,e,n),s=o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o}parse(e,t){this.context=e;const{inFlow:n,src:r}=e;let s=t;const o=r[s];return o&&"#"!==o&&"\n"!==o&&(s=jn.endOfLine(r,t,n)),this.valueRange=new Rn(t,s),s=Pn.endOfWhiteSpace(r,s),s=this.parseComment(s),this.hasComment&&!this.valueRange.isEmpty()||(s=this.parseBlockValue(s)),s}}Nn.Char=An,Nn.Node=Pn,Nn.PlainValue=jn,Nn.Range=Rn,Nn.Type=Tn,Nn.YAMLError=In,Nn.YAMLReferenceError=class extends In{constructor(e,t){super("YAMLReferenceError",e,t)}},Nn.YAMLSemanticError=Bn,Nn.YAMLSyntaxError=class extends In{constructor(e,t){super("YAMLSyntaxError",e,t)}},Nn.YAMLWarning=class extends In{constructor(e,t){super("YAMLWarning",e,t)}},Nn._defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Nn.defaultTagPrefix="tag:yaml.org,2002:",Nn.defaultTags={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};var Fn=Nn;class Dn extends Fn.Node{constructor(){super(Fn.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,t){return this.context=e,this.range=new Fn.Range(t,t+1),t+1}}class Yn extends Fn.Node{constructor(e,t){super(e,t),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,t){this.context=e;const{parseNode:n,src:r}=e;let{atLineStart:s,lineStart:o}=e;s||this.type!==Fn.Type.SEQ_ITEM||(this.error=new Fn.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));const i=s?t-o:e.indent;let a=Fn.Node.endOfWhiteSpace(r,t+1),c=r[a];const u="#"===c,l=[];let f=null;for(;"\n"===c||"#"===c;){if("#"===c){const e=Fn.Node.endOfLine(r,a+1);l.push(new Fn.Range(a,e)),a=e}else{s=!0,o=a+1;"\n"===r[Fn.Node.endOfWhiteSpace(r,o)]&&0===l.length&&(f=new Dn,o=f.parse({src:r},o)),a=Fn.Node.endOfIndent(r,o)}c=r[a]}if(Fn.Node.nextNodeIsIndented(c,a-(o+i),this.type!==Fn.Type.SEQ_ITEM)?this.node=n({atLineStart:s,inCollection:!1,indent:i,lineStart:o,parent:this},a):c&&o>t+1&&(a=o-1),this.node){if(f){const t=e.parent.items||e.parent.contents;t&&t.push(f)}l.length&&Array.prototype.push.apply(this.props,l),a=this.node.range.end}else if(u){const e=l[0];this.props.push(e),a=e.end}else a=Fn.Node.endOfLine(r,t+1);return this.valueRange=new Fn.Range(t,this.node?this.node.valueRange.end:a),a}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.node?this.node.setOrigRanges(e,t):t}toString(){const{context:{src:e},node:t,range:n,value:r}=this;if(null!=r)return r;const s=t?e.slice(n.start,t.range.start)+(t+""):e.slice(n.start,n.end);return Fn.Node.addStringTerminator(e,n.end,s)}}class qn extends Fn.Node{constructor(){super(Fn.Type.COMMENT)}parse(e,t){this.context=e;const n=this.parseComment(t);return this.range=new Fn.Range(t,n),n}}function Un(e){let t=e;for(;t instanceof Yn;)t=t.node;if(!(t instanceof Wn))return null;const n=t.items.length;let r=-1;for(let e=n-1;e>=0;--e){const n=t.items[e];if(n.type===Fn.Type.COMMENT){const{indent:t,lineStart:s}=n.context;if(t>0&&n.range.start>=s+t)break;r=e}else{if(n.type!==Fn.Type.BLANK_LINE)break;r=e}}if(-1===r)return null;const s=t.items.splice(r,n-r),o=s[0].range.start;for(;t.range.end=o,t.valueRange&&t.valueRange.end>o&&(t.valueRange.end=o),t!==e;)t=t.context.parent;return s}class Wn extends Fn.Node{static nextContentHasIndent(e,t,n){const r=Fn.Node.endOfLine(e,t)+1,s=e[t=Fn.Node.endOfWhiteSpace(e,r)];return!!s&&(t>=r+n||("#"===s||"\n"===s)&&Wn.nextContentHasIndent(e,t,n))}constructor(e){super(e.type===Fn.Type.SEQ_ITEM?Fn.Type.SEQ:Fn.Type.MAP);for(let t=e.props.length-1;t>=0;--t)if(e.context.lineStart>e.props[t].start){this.props=e.props.slice(0,t+1),e.props=e.props.slice(t+1);e.range.start=(e.props[0]||e.valueRange).start;break}this.items=[e];const t=Un(e);t&&Array.prototype.push.apply(this.items,t)}get includesTrailingLines(){return this.items.length>0}parse(e,t){this.context=e;const{parseNode:n,src:r}=e;let s=Fn.Node.startOfLine(r,t);const o=this.items[0];o.context.parent=this,this.valueRange=Fn.Range.copy(o.valueRange);const i=o.range.start-o.context.lineStart;let a=t;a=Fn.Node.normalizeOffset(r,a);let c=r[a],u=Fn.Node.endOfWhiteSpace(r,s)===a,l=!1;for(;c;){for(;"\n"===c||"#"===c;){if(u&&"\n"===c&&!l){const e=new Dn;if(a=e.parse({src:r},a),this.valueRange.end=a,a>=r.length){c=null;break}this.items.push(e),a-=1}else if("#"===c){if(s+i>a&&!Wn.nextContentHasIndent(r,a,i))return a;const e=new qn;if(a=e.parse({indent:i,lineStart:s,src:r},a),this.items.push(e),this.valueRange.end=a,a>=r.length){c=null;break}}if(s=a+1,a=Fn.Node.endOfIndent(r,s),Fn.Node.atBlank(r,a)){const e=Fn.Node.endOfWhiteSpace(r,a),t=r[e];t&&"\n"!==t&&"#"!==t||(a=e)}c=r[a],u=!0}if(!c)break;if(a!==s+i&&(u||":"!==c)){if(s+i>a){s>t&&(a=s);break}if(!this.error){this.error=new Fn.YAMLSyntaxError(this,"All collection items must start at the same column")}}if(o.type===Fn.Type.SEQ_ITEM){if("-"!==c){s>t&&(a=s);break}}else if("-"===c&&!this.error){const e=r[a+1];if(!e||"\n"===e||"\t"===e||" "===e){this.error=new Fn.YAMLSyntaxError(this,"A collection cannot be both a mapping and a sequence")}}const e=n({atLineStart:u,inCollection:!0,indent:i,lineStart:s,parent:this},a);if(!e)return a;if(this.items.push(e),this.valueRange.end=e.valueRange.end,a=Fn.Node.normalizeOffset(r,e.range.end),c=r[a],u=!1,l=e.includesTrailingLines,c){let e=a-1,t=r[e];for(;" "===t||"\t"===t;)t=r[--e];"\n"===t&&(s=e+1,u=!0)}const f=Un(e);f&&Array.prototype.push.apply(this.items,f)}return a}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.items.forEach((n=>{t=n.setOrigRanges(e,t)})),t}toString(){const{context:{src:e},items:t,range:n,value:r}=this;if(null!=r)return r;let s=e.slice(n.start,t[0].range.start)+(t[0]+"");for(let e=1;t.length>e;++e){const n=t[e],{atLineStart:r,indent:o}=n.context;if(r)for(let e=0;o>e;++e)s+=" ";s+=n+""}return Fn.Node.addStringTerminator(e,n.end,s)}}class Jn extends Fn.Node{constructor(){super(Fn.Type.DIRECTIVE),this.name=null}get parameters(){const e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){const{src:t}=this.context;let n=e,r=t[n];for(;r&&"\n"!==r&&"\t"!==r&&" "!==r;)r=t[n+=1];return this.name=t.slice(e,n),n}parseParameters(e){const{src:t}=this.context;let n=e,r=t[n];for(;r&&"\n"!==r&&"#"!==r;)r=t[n+=1];return this.valueRange=new Fn.Range(e,n),n}parse(e,t){this.context=e;let n=this.parseName(t+1);return n=this.parseParameters(n),n=this.parseComment(n),this.range=new Fn.Range(t,n),n}}class Kn extends Fn.Node{static startCommentOrEndBlankLine(e,t){const n=Fn.Node.endOfWhiteSpace(e,t),r=e[n];return"#"===r||"\n"===r?n:t}constructor(){super(Fn.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){const{src:t}=this.context;this.directives=[];let n=!0,r=!1,s=e;for(;!Fn.Node.atDocumentBoundary(t,s,Fn.Char.DIRECTIVES_END);)switch(s=Kn.startCommentOrEndBlankLine(t,s),t[s]){case"\n":if(n){const e=new Dn;s=e.parse({src:t},s),t.length>s&&this.directives.push(e)}else s+=1,n=!0;break;case"#":{const e=new qn;s=e.parse({src:t},s),this.directives.push(e),n=!1}break;case"%":{const e=new Jn;s=e.parse({parent:this,src:t},s),this.directives.push(e),r=!0,n=!1}break;default:return r?this.error=new Fn.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return t[s]?(this.directivesEndMarker=new Fn.Range(s,s+3),s+3):(r?this.error=new Fn.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){const{parseNode:t,src:n}=this.context;this.contents||(this.contents=[]);let r=e;for(;"-"===n[r-1];)r-=1;let s=Fn.Node.endOfWhiteSpace(n,e),o=r===e;for(this.valueRange=new Fn.Range(s);!Fn.Node.atDocumentBoundary(n,s,Fn.Char.DOCUMENT_END);){switch(n[s]){case"\n":if(o){const e=new Dn;s=e.parse({src:n},s),n.length>s&&this.contents.push(e)}else s+=1,o=!0;r=s;break;case"#":{const e=new qn;s=e.parse({src:n},s),this.contents.push(e),o=!1}break;default:{const e=Fn.Node.endOfIndent(n,s),i=t({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:r,parent:this},e);if(!i)return this.valueRange.end=e;this.contents.push(i),s=i.range.end,o=!1;const a=Un(i);a&&Array.prototype.push.apply(this.contents,a)}}s=Kn.startCommentOrEndBlankLine(n,s)}if(this.valueRange.end=s,n[s]&&(this.documentEndMarker=new Fn.Range(s,s+3),s+=3,n[s])){if(s=Fn.Node.endOfWhiteSpace(n,s),"#"===n[s]){const e=new qn;s=e.parse({src:n},s),this.contents.push(e)}switch(n[s]){case"\n":s+=1;break;case void 0:break;default:this.error=new Fn.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,t){e.root=this,this.context=e;const{src:n}=e;let r=65279===n.charCodeAt(t)?t+1:t;return r=this.parseDirectives(r),r=this.parseContents(r),r}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.directives.forEach((n=>{t=n.setOrigRanges(e,t)})),this.directivesEndMarker&&(t=this.directivesEndMarker.setOrigRange(e,t)),this.contents.forEach((n=>{t=n.setOrigRanges(e,t)})),this.documentEndMarker&&(t=this.documentEndMarker.setOrigRange(e,t)),t}toString(){const{contents:e,directives:t,value:n}=this;if(null!=n)return n;let r=t.join("");return e.length>0&&((t.length>0||e[0].type===Fn.Type.COMMENT)&&(r+="---\n"),r+=e.join("")),"\n"!==r[r.length-1]&&(r+="\n"),r}}class Qn extends Fn.Node{parse(e,t){this.context=e;const{src:n}=e;let r=Fn.Node.endOfIdentifier(n,t+1);return this.valueRange=new Fn.Range(t+1,r),r=Fn.Node.endOfWhiteSpace(n,r),r=this.parseComment(r),r}}const Hn="CLIP",zn="KEEP",Vn="STRIP";class Gn extends Fn.Node{constructor(e,t){super(e,t),this.blockIndent=null,this.chomping=Hn,this.header=null}get includesTrailingLines(){return this.chomping===zn}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:t}=this.valueRange;const{indent:n,src:r}=this.context;if(this.valueRange.isEmpty())return"";let s=null,o=r[t-1];for(;"\n"===o||"\t"===o||" "===o;){if(t-=1,e>=t){if(this.chomping===zn)break;return""}"\n"===o&&(s=t),o=r[t-1]}let i=t+1;s&&(this.chomping===zn?(i=s,t=this.valueRange.end):t=s);const a=n+this.blockIndent,c=this.type===Fn.Type.BLOCK_FOLDED;let u=!0,l="",f="",h=!1;for(let n=e;t>n;++n){for(let e=0;a>e&&" "===r[n];++e)n+=1;const e=r[n];if("\n"===e)"\n"===f?l+="\n":f="\n";else{const s=Fn.Node.endOfLine(r,n),o=r.slice(n,s);n=s,c&&(" "===e||"\t"===e)&&i>n?(" "===f?f="\n":h||u||"\n"!==f||(f="\n\n"),l+=f+o,f=t>s&&r[s]||"",h=!0):(l+=f+o,f=c&&i>n?" ":"\n",h=!1),u&&""!==o&&(u=!1)}}return this.chomping===Vn?l:l+"\n"}parseBlockHeader(e){const{src:t}=this.context;let n=e+1,r="";for(;;){const s=t[n];switch(s){case"-":this.chomping=Vn;break;case"+":this.chomping=zn;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r+=s;break;default:return this.blockIndent=Number(r)||null,this.header=new Fn.Range(e,n),n}n+=1}}parseBlockValue(e){const{indent:t,src:n}=this.context,r=!!this.blockIndent;let s=e,o=e,i=1;for(let e=n[s];"\n"===e&&(s+=1,!Fn.Node.atDocumentBoundary(n,s));e=n[s]){const e=Fn.Node.endOfBlockIndent(n,t,s);if(null===e)break;const a=n[e],c=e-(s+t);if(this.blockIndent){if(a&&"\n"!==a&&this.blockIndent>c){if("#"===n[e])break;if(!this.error){this.error=new Fn.YAMLSemanticError(this,"Block scalars must not be less indented than their "+(r?"explicit indentation indicator":"first line"))}}}else if("\n"!==n[e]){if(i>c){this.error=new Fn.YAMLSemanticError(this,"Block scalars with more-indented leading empty lines must use an explicit indentation indicator")}this.blockIndent=c}else c>i&&(i=c);s="\n"===n[e]?e:o=Fn.Node.endOfLine(n,e)}return this.chomping!==zn&&(s=n[o]?o+1:o),this.valueRange=new Fn.Range(e+1,s),s}parse(e,t){this.context=e;const{src:n}=e;let r=this.parseBlockHeader(t);return r=Fn.Node.endOfWhiteSpace(n,r),r=this.parseComment(r),r=this.parseBlockValue(r),r}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.header?this.header.setOrigRange(e,t):t}}class Xn extends Fn.Node{constructor(e,t){super(e,t),this.items=null}prevNodeIsJsonLike(e=this.items.length){const t=this.items[e-1];return!!t&&(t.jsonLike||t.type===Fn.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,t){this.context=e;const{parseNode:n,src:r}=e;let{indent:s,lineStart:o}=e,i=r[t];this.items=[{char:i,offset:t}];let a=Fn.Node.endOfWhiteSpace(r,t+1);for(i=r[a];i&&"]"!==i&&"}"!==i;){switch(i){case"\n":o=a+1;if("\n"===r[Fn.Node.endOfWhiteSpace(r,o)]){const e=new Dn;o=e.parse({src:r},o),this.items.push(e)}if(a=Fn.Node.endOfIndent(r,o),o+s>=a&&(i=r[a],o+s>a||"]"!==i&&"}"!==i)){this.error=new Fn.YAMLSemanticError(this,"Insufficient indentation in flow collection")}break;case",":this.items.push({char:i,offset:a}),a+=1;break;case"#":{const e=new qn;a=e.parse({src:r},a),this.items.push(e)}break;case"?":case":":{const e=r[a+1];if("\n"===e||"\t"===e||" "===e||","===e||":"===i&&this.prevNodeIsJsonLike()){this.items.push({char:i,offset:a}),a+=1;break}}default:{const e=n({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},a);if(!e)return this.valueRange=new Fn.Range(t,a),a;this.items.push(e),a=Fn.Node.normalizeOffset(r,e.range.end)}}a=Fn.Node.endOfWhiteSpace(r,a),i=r[a]}return this.valueRange=new Fn.Range(t,a+1),i&&(this.items.push({char:i,offset:a}),a=Fn.Node.endOfWhiteSpace(r,a+1),a=this.parseComment(a)),a}setOrigRanges(e,t){return t=super.setOrigRanges(e,t),this.items.forEach((n=>{if(n instanceof Fn.Node)t=n.setOrigRanges(e,t);else if(0===e.length)n.origOffset=n.offset;else{let r=t;for(;e.length>r&&n.offset>=e[r];)++r;n.origOffset=n.offset+r,t=r}})),t}toString(){const{context:{src:e},items:t,range:n,value:r}=this;if(null!=r)return r;const s=t.filter((e=>e instanceof Fn.Node));let o="",i=n.start;return s.forEach((t=>{const n=e.slice(i,t.range.start);i=t.range.end,o+=n+(t+""),"\n"===o[o.length-1]&&"\n"!==e[i-1]&&"\n"===e[i]&&(i+=1)})),o+=e.slice(i,n.end),Fn.Node.addStringTerminator(e,n.end,o)}}class Zn extends Fn.Node{static endOfQuote(e,t){let n=e[t];for(;n&&'"'!==n;)n=e[t+="\\"===n?2:1];return t+1}get strValue(){if(!this.valueRange||!this.context)return null;const e=[],{start:t,end:n}=this.valueRange,{indent:r,src:s}=this.context;'"'!==s[n-1]&&e.push(new Fn.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let i=t+1;n-1>i;++i){const t=s[i];if("\n"===t){Fn.Node.atDocumentBoundary(s,i+1)&&e.push(new Fn.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));const{fold:t,offset:n,error:a}=Fn.Node.foldNewline(s,i,r);o+=t,i=n,a&&e.push(new Fn.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if("\\"===t)switch(i+=1,s[i]){case"0":o+="\0";break;case"a":o+="";break;case"b":o+="\b";break;case"e":o+="";break;case"f":o+="\f";break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":case"\t":o+="\t";break;case"v":o+="\v";break;case"N":o+="";break;case"_":o+=" ";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"x":o+=this.parseCharCode(i+1,2,e),i+=2;break;case"u":o+=this.parseCharCode(i+1,4,e),i+=4;break;case"U":o+=this.parseCharCode(i+1,8,e),i+=8;break;case"\n":for(;" "===s[i+1]||"\t"===s[i+1];)i+=1;break;default:e.push(new Fn.YAMLSyntaxError(this,"Invalid escape sequence "+s.substr(i-1,2))),o+="\\"+s[i]}else if(" "===t||"\t"===t){const e=i;let n=s[i+1];for(;" "===n||"\t"===n;)i+=1,n=s[i+1];"\n"!==n&&(o+=i>e?s.slice(e,i+1):t)}else o+=t}return e.length>0?{errors:e,str:o}:o}parseCharCode(e,t,n){const{src:r}=this.context,s=r.substr(e,t),o=s.length===t&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(n.push(new Fn.YAMLSyntaxError(this,"Invalid escape sequence "+r.substr(e-2,t+2))),r.substr(e-2,t+2)):String.fromCodePoint(o)}parse(e,t){this.context=e;const{src:n}=e;let r=Zn.endOfQuote(n,t+1);return this.valueRange=new Fn.Range(t,r),r=Fn.Node.endOfWhiteSpace(n,r),r=this.parseComment(r),r}}class er extends Fn.Node{static endOfQuote(e,t){let n=e[t];for(;n;)if("'"===n){if("'"!==e[t+1])break;n=e[t+=2]}else n=e[t+=1];return t+1}get strValue(){if(!this.valueRange||!this.context)return null;const e=[],{start:t,end:n}=this.valueRange,{indent:r,src:s}=this.context;"'"!==s[n-1]&&e.push(new Fn.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let i=t+1;n-1>i;++i){const t=s[i];if("\n"===t){Fn.Node.atDocumentBoundary(s,i+1)&&e.push(new Fn.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));const{fold:t,offset:n,error:a}=Fn.Node.foldNewline(s,i,r);o+=t,i=n,a&&e.push(new Fn.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if("'"===t)o+=t,i+=1,"'"!==s[i]&&e.push(new Fn.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(" "===t||"\t"===t){const e=i;let n=s[i+1];for(;" "===n||"\t"===n;)i+=1,n=s[i+1];"\n"!==n&&(o+=i>e?s.slice(e,i+1):t)}else o+=t}return e.length>0?{errors:e,str:o}:o}parse(e,t){this.context=e;const{src:n}=e;let r=er.endOfQuote(n,t+1);return this.valueRange=new Fn.Range(t,r),r=Fn.Node.endOfWhiteSpace(n,r),r=this.parseComment(r),r}}class tr{static parseType(e,t,n){switch(e[t]){case"*":return Fn.Type.ALIAS;case">":return Fn.Type.BLOCK_FOLDED;case"|":return Fn.Type.BLOCK_LITERAL;case"{":return Fn.Type.FLOW_MAP;case"[":return Fn.Type.FLOW_SEQ;case"?":return!n&&Fn.Node.atBlank(e,t+1,!0)?Fn.Type.MAP_KEY:Fn.Type.PLAIN;case":":return!n&&Fn.Node.atBlank(e,t+1,!0)?Fn.Type.MAP_VALUE:Fn.Type.PLAIN;case"-":return!n&&Fn.Node.atBlank(e,t+1,!0)?Fn.Type.SEQ_ITEM:Fn.Type.PLAIN;case'"':return Fn.Type.QUOTE_DOUBLE;case"'":return Fn.Type.QUOTE_SINGLE;default:return Fn.Type.PLAIN}}constructor(e={},{atLineStart:t,inCollection:n,inFlow:r,indent:s,lineStart:o,parent:i}={}){Fn._defineProperty(this,"parseNode",((e,t)=>{if(Fn.Node.atDocumentBoundary(this.src,t))return null;const n=new tr(this,e),{props:r,type:s,valueStart:o}=n.parseProps(t),i=function(e,t){switch(e){case Fn.Type.ALIAS:return new Qn(e,t);case Fn.Type.BLOCK_FOLDED:case Fn.Type.BLOCK_LITERAL:return new Gn(e,t);case Fn.Type.FLOW_MAP:case Fn.Type.FLOW_SEQ:return new Xn(e,t);case Fn.Type.MAP_KEY:case Fn.Type.MAP_VALUE:case Fn.Type.SEQ_ITEM:return new Yn(e,t);case Fn.Type.COMMENT:case Fn.Type.PLAIN:return new Fn.PlainValue(e,t);case Fn.Type.QUOTE_DOUBLE:return new Zn(e,t);case Fn.Type.QUOTE_SINGLE:return new er(e,t);default:return null}}(s,r);let a=i.parse(n,o);if(i.range=new Fn.Range(t,a),a>t||(i.error=Error("Node#parse consumed no characters"),i.error.parseEnd=a,i.error.source=i,i.range.end=t+1),n.nodeStartsCollection(i)){i.error||n.atLineStart||n.parent.type!==Fn.Type.DOCUMENT||(i.error=new Fn.YAMLSyntaxError(i,"Block collection must not have preceding content here (e.g. directives-end indicator)"));const e=new Wn(i);return a=e.parse(new tr(n),a),e.range=new Fn.Range(t,a),e}return i})),this.atLineStart=null!=t?t:e.atLineStart||!1,this.inCollection=null!=n?n:e.inCollection||!1,this.inFlow=null!=r?r:e.inFlow||!1,this.indent=null!=s?s:e.indent,this.lineStart=null!=o?o:e.lineStart,this.parent=null!=i?i:e.parent||{},this.root=e.root,this.src=e.src}nodeStartsCollection(e){const{inCollection:t,inFlow:n,src:r}=this;if(t||n)return!1;if(e instanceof Yn)return!0;let s=e.range.end;return"\n"!==r[s]&&"\n"!==r[s-1]&&(s=Fn.Node.endOfWhiteSpace(r,s),":"===r[s])}parseProps(e){const{inFlow:t,parent:n,src:r}=this,s=[];let o=!1,i=r[e=this.atLineStart?Fn.Node.endOfIndent(r,e):Fn.Node.endOfWhiteSpace(r,e)];for(;i===Fn.Char.ANCHOR||i===Fn.Char.COMMENT||i===Fn.Char.TAG||"\n"===i;){if("\n"===i){let t,s=e;do{t=s+1,s=Fn.Node.endOfIndent(r,t)}while("\n"===r[s]);if("#"!==r[s]&&!Fn.Node.nextNodeIsIndented(r[s],s-(t+this.indent),!(n.type===Fn.Type.SEQ_ITEM&&n.context.atLineStart)))break;this.atLineStart=!0,this.lineStart=t,o=!1,e=s}else if(i===Fn.Char.COMMENT){const t=Fn.Node.endOfLine(r,e+1);s.push(new Fn.Range(e,t)),e=t}else{let t=Fn.Node.endOfIdentifier(r,e+1);i===Fn.Char.TAG&&","===r[t]&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(r.slice(e+1,t+13))&&(t=Fn.Node.endOfIdentifier(r,t+5)),s.push(new Fn.Range(e,t)),o=!0,e=Fn.Node.endOfWhiteSpace(r,t)}i=r[e]}o&&":"===i&&Fn.Node.atBlank(r,e+1,!0)&&(e-=1);return{props:s,type:tr.parseType(r,e,t),valueStart:e}}}Ln.parse=function(e){const t=[];-1!==e.indexOf("\r")&&(e=e.replace(/\r\n?/g,((e,n)=>(e.length>1&&t.push(n),"\n"))));const n=[];let r=0;do{const t=new Kn,s=new tr({src:e});r=t.parse(s,r),n.push(t)}while(e.length>r);return n.setOrigRanges=()=>{if(0===t.length)return!1;for(let e=1;t.length>e;++e)t[e]-=e;let e=0;for(let r=0;n.length>r;++r)e=n[r].setOrigRanges(t,e);return t.splice(0,t.length),!0},n.toString=()=>n.join("...\n"),n};var nr={},rr={},sr=Nn;function or(e,t,n){return n?-1===n.indexOf("\n")?`${e} #${n}`:e+"\n"+n.replace(/^/gm,(t||"")+"#"):e}class ir{}function ar(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>ar(e,t+"",n)));if(e&&"function"==typeof e.toJSON){const r=n&&n.anchors&&n.anchors.get(e);r&&(n.onCreate=e=>{r.res=e,delete n.onCreate});const s=e.toJSON(t,n);return r&&n.onCreate&&n.onCreate(s),s}return n&&n.keep||"bigint"!=typeof e?e:Number(e)}class cr extends ir{constructor(e){super(),this.value=e}toJSON(e,t){return t&&t.keep?this.value:ar(this.value,e,t)}toString(){return this.value+""}}function ur(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if(Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else{const e={};Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=e}}return e.createNode(r,!1)}const lr=e=>null==e||"object"==typeof e&&e[Symbol.iterator]().next().done;class fr extends ir{constructor(e){super(),sr._defineProperty(this,"items",[]),this.schema=e}addIn(e,t){if(lr(e))this.add(t);else{const[n,...r]=e,s=this.get(n,!0);if(s instanceof fr)s.addIn(r,t);else{if(void 0!==s||!this.schema)throw Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,ur(this.schema,r,t))}}}deleteIn([e,...t]){if(0===t.length)return this.delete(e);const n=this.get(e,!0);if(n instanceof fr)return n.deleteIn(t);throw Error(`Expected YAML collection at ${e}. Remaining path: ${t}`)}getIn([e,...t],n){const r=this.get(e,!0);return 0===t.length?!n&&r instanceof cr?r.value:r:r instanceof fr?r.getIn(t,n):void 0}hasAllNullValues(){return this.items.every((e=>{if(!e||"PAIR"!==e.type)return!1;const t=e.value;return null==t||t instanceof cr&&null==t.value&&!t.commentBefore&&!t.comment&&!t.tag}))}hasIn([e,...t]){if(0===t.length)return this.has(e);const n=this.get(e,!0);return n instanceof fr&&n.hasIn(t)}setIn([e,...t],n){if(0===t.length)this.set(e,n);else{const r=this.get(e,!0);if(r instanceof fr)r.setIn(t,n);else{if(void 0!==r||!this.schema)throw Error(`Expected YAML collection at ${e}. Remaining path: ${t}`);this.set(e,ur(this.schema,t,n))}}}toJSON(){return null}toString(e,{blockItem:t,flowChars:n,isMap:r,itemIndent:s},o,i){const{indent:a,indentStep:c,stringify:u}=e,l=this.type===sr.Type.FLOW_MAP||this.type===sr.Type.FLOW_SEQ||e.inFlow;l&&(s+=c);const f=r&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:f,indent:s,inFlow:l,type:null});let h=!1,p=!1;const d=this.items.reduce(((t,n,r)=>{let o;n&&(!h&&n.spaceBefore&&t.push({type:"comment",str:""}),n.commentBefore&&n.commentBefore.match(/^.*$/gm).forEach((e=>{t.push({type:"comment",str:"#"+e})})),n.comment&&(o=n.comment),l&&(!h&&n.spaceBefore||n.commentBefore||n.comment||n.key&&(n.key.commentBefore||n.key.comment)||n.value&&(n.value.commentBefore||n.value.comment))&&(p=!0)),h=!1;let i=u(n,e,(()=>o=null),(()=>h=!0));return l&&!p&&i.includes("\n")&&(p=!0),l&&this.items.length-1>r&&(i+=","),i=or(i,s,o),h&&(o||l)&&(h=!1),t.push({type:"item",str:i}),t}),[]);let g;if(0===d.length)g=n.start+n.end;else if(l){const{start:e,end:t}=n,r=d.map((e=>e.str));if(p||r.reduce(((e,t)=>e+t.length+2),2)>fr.maxFlowStringSingleLineLength){g=e;for(const e of r)g+=e?`\n${c}${a}${e}`:"\n";g+=`\n${a}${t}`}else g=`${e} ${r.join(" ")} ${t}`}else{const e=d.map(t);g=e.shift();for(const t of e)g+=t?`\n${a}${t}`:"\n"}return this.comment?(g+="\n"+this.comment.replace(/^/gm,a+"#"),o&&o()):h&&i&&i(),g}}function hr(e){let t=e instanceof cr?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),Number.isInteger(t)&&t>=0?t:null}sr._defineProperty(fr,"maxFlowStringSingleLineLength",60);class pr extends fr{add(e){this.items.push(e)}delete(e){const t=hr(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=hr(e);if("number"!=typeof n)return;const r=this.items[n];return!t&&r instanceof cr?r.value:r}has(e){const t=hr(e);return"number"==typeof t&&this.items.length>t}set(e,t){const n=hr(e);if("number"!=typeof n)throw Error(`Expected a valid index, not ${e}.`);this.items[n]=t}toJSON(e,t){const n=[];t&&t.onCreate&&t.onCreate(n);let r=0;for(const e of this.items)n.push(ar(e,r+++"",t));return n}toString(e,t,n){return e?super.toString(e,{blockItem:e=>"comment"===e.type?e.str:"- "+e.str,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},t,n):JSON.stringify(this)}}class dr extends ir{constructor(e,t=null){super(),this.key=e,this.value=t,this.type=dr.Type.PAIR}get commentBefore(){return this.key instanceof ir?this.key.commentBefore:void 0}set commentBefore(e){if(null==this.key&&(this.key=new cr(null)),!(this.key instanceof ir)){throw Error("Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.")}this.key.commentBefore=e}addToJSMap(e,t){const n=ar(this.key,"",e);if(t instanceof Map){const r=ar(this.value,n,e);t.set(n,r)}else if(t instanceof Set)t.add(n);else{const r=((e,t,n)=>null===t?"":"object"!=typeof t?t+"":e instanceof ir&&n&&n.doc?e.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(t))(this.key,n,e),s=ar(this.value,r,e);r in t?Object.defineProperty(t,r,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[r]=s}return t}toJSON(e,t){const n=t&&t.mapAsMap?new Map:{};return this.addToJSMap(t,n)}toString(e,t,n){if(!e||!e.doc)return JSON.stringify(this);const{indent:r,indentSeq:s,simpleKeys:o}=e.doc.options;let{key:i,value:a}=this,c=i instanceof ir&&i.comment;if(o){if(c)throw Error("With simple keys, key nodes cannot have comments");if(i instanceof fr){throw Error("With simple keys, collection cannot be used as a key value")}}let u=!o&&(!i||c||(i instanceof ir?i instanceof fr||i.type===sr.Type.BLOCK_FOLDED||i.type===sr.Type.BLOCK_LITERAL:"object"==typeof i));const{doc:l,indent:f,indentStep:h,stringify:p}=e;e=Object.assign({},e,{implicitKey:!u,indent:f+h});let d=!1,g=p(i,e,(()=>c=null),(()=>d=!0));if(g=or(g,e.indent,c),!u&&g.length>1024){if(o)throw Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(e.allNullValues&&!o)return this.comment?(g=or(g,e.indent,this.comment),t&&t()):d&&!c&&n&&n(),e.inFlow&&!u?g:"? "+g;g=u?`? ${g}\n${f}:`:g+":",this.comment&&(g=or(g,e.indent,this.comment),t&&t());let m="",y=null;if(a instanceof ir){if(a.spaceBefore&&(m="\n"),a.commentBefore){m+="\n"+a.commentBefore.replace(/^/gm,e.indent+"#")}y=a.comment}else a&&"object"==typeof a&&(a=l.schema.createNode(a,!0));e.implicitKey=!1,!u&&!this.comment&&a instanceof cr&&(e.indentAtStart=g.length+1),d=!1,s||2>r||e.inFlow||u||!(a instanceof pr)||a.type===sr.Type.FLOW_SEQ||a.tag||l.anchors.getName(a)||(e.indent=e.indent.substr(2));const v=p(a,e,(()=>y=null),(()=>d=!0));let b=" ";if(m||this.comment)b=`${m}\n${e.indent}`;else if(!u&&a instanceof fr){("["===v[0]||"{"===v[0])&&!v.includes("\n")||(b="\n"+e.indent)}else"\n"===v[0]&&(b="");return d&&!y&&n&&n(),or(g+b+v,e.indent,y)}}sr._defineProperty(dr,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});const gr=(e,t)=>{if(e instanceof mr){const n=t.get(e.source);return n.count*n.aliasCount}if(e instanceof fr){let n=0;for(const r of e.items){const e=gr(r,t);e>n&&(n=e)}return n}if(e instanceof dr){const n=gr(e.key,t),r=gr(e.value,t);return Math.max(n,r)}return 1};class mr extends ir{static stringify({range:e,source:t},{anchors:n,doc:r,implicitKey:s,inStringifyKey:o}){let i=Object.keys(n).find((e=>n[e]===t));if(!i&&o&&(i=r.anchors.getName(t)||r.anchors.newName()),i)return`*${i}${s?" ":""}`;const a=r.anchors.getName(t)?"Alias node must be after source node":"Source node not found for alias node";throw Error(`${a} [${e}]`)}constructor(e){super(),this.source=e,this.type=sr.Type.ALIAS}set tag(e){throw Error("Alias nodes cannot have tags")}toJSON(e,t){if(!t)return ar(this.source,e,t);const{anchors:n,maxAliasCount:r}=t,s=n.get(this.source);if(!s||void 0===s.res){const e="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new sr.YAMLReferenceError(this.cstNode,e):new ReferenceError(e)}if(r>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=gr(this.source,n)),s.count*s.aliasCount>r)){const e="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new sr.YAMLReferenceError(this.cstNode,e):new ReferenceError(e)}return s.res}toString(e){return mr.stringify(this,e)}}function yr(e,t){const n=t instanceof cr?t.value:t;for(const r of e)if(r instanceof dr){if(r.key===t||r.key===n)return r;if(r.key&&r.key.value===n)return r}}sr._defineProperty(mr,"default",!0);class vr extends fr{add(e,t){e?e instanceof dr||(e=new dr(e.key||e,e.value)):e=new dr(e);const n=yr(this.items,e.key),r=this.schema&&this.schema.sortMapEntries;if(n){if(!t)throw Error(`Key ${e.key} already set`);n.value=e.value}else if(r){const t=this.items.findIndex((t=>0>r(e,t)));-1===t?this.items.push(e):this.items.splice(t,0,e)}else this.items.push(e)}delete(e){const t=yr(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=yr(this.items,e),r=n&&n.value;return!t&&r instanceof cr?r.value:r}has(e){return!!yr(this.items,e)}set(e,t){this.add(new dr(e,t),!0)}toJSON(e,t,n){const r=n?new n:t&&t.mapAsMap?new Map:{};t&&t.onCreate&&t.onCreate(r);for(const e of this.items)e.addToJSMap(t,r);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!(e instanceof dr))throw Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return super.toString(e,{blockItem:e=>e.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},t,n)}}class br extends dr{constructor(e){if(e instanceof dr){let t=e.value;t instanceof pr||(t=new pr,t.items.push(e.value),t.range=e.value.range),super(e.key,t),this.range=e.range}else super(new cr("<<"),new pr);this.type=dr.Type.MERGE_PAIR}addToJSMap(e,t){for(const{source:n}of this.value.items){if(!(n instanceof vr))throw Error("Merge sources must be maps");const r=n.toJSON(null,e,Map);for(const[e,n]of r)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}return t}toString(e,t){const n=this.value;if(n.items.length>1)return super.toString(e,t);this.value=n.items[0];const r=super.toString(e,t);return this.value=n,r}}const wr={defaultType:sr.Type.BLOCK_LITERAL,lineWidth:76},Er={defaultType:sr.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Or(e,t,n){for(const{format:n,test:r,resolve:s}of t)if(r){const t=e.match(r);if(t){let e=s.apply(null,t);return e instanceof cr||(e=new cr(e)),n&&(e.format=n),e}}return n&&(e=n(e)),new cr(e)}const xr="flow",Sr="block",_r="quoted",Lr=(e,t)=>{let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t};function Nr(e,t,n,{indentAtStart:r,lineWidth:s=80,minContentWidth:o=20,onFold:i,onOverflow:a}){if(!s||0>s)return e;const c=Math.max(1+o,1+s-t.length);if(c>=e.length)return e;const u=[],l={};let f,h,p=s-t.length;"number"==typeof r&&(r>s-Math.max(2,o)?u.push(0):p=s-r);let d=!1,g=-1,m=-1,y=-1;n===Sr&&(g=Lr(e,g),-1!==g&&(p=g+c));for(let t;t=e[g+=1];){if(n===_r&&"\\"===t){switch(m=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}y=g}if("\n"===t)n===Sr&&(g=Lr(e,g)),p=g+c,f=void 0;else{if(" "===t&&h&&" "!==h&&"\n"!==h&&"\t"!==h){const t=e[g+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=g)}if(g>=p)if(f)u.push(f),p=f+c,f=void 0;else if(n===_r){for(;" "===h||"\t"===h;)h=t,t=e[g+=1],d=!0;const n=g>y+1?g-2:m-1;if(l[n])return e;u.push(n),l[n]=!0,p=n+c,f=void 0}else d=!0}h=t}if(d&&a&&a(),0===u.length)return e;i&&i();let v=e.slice(0,u[0]);for(let r=0;u.length>r;++r){const s=u[r],o=u[r+1]||e.length;0===s?v=`\n${t}${e.slice(0,o)}`:(n===_r&&l[s]&&(v+=e[s]+"\\"),v+=`\n${t}${e.slice(s+1,o)}`)}return v}const Ar=({indentAtStart:e})=>e?Object.assign({indentAtStart:e},Er.fold):Er.fold,Tr=e=>/^(%|---|\.\.\.)/m.test(e);function Mr(e,t){const{implicitKey:n}=t,{jsonEncoding:r,minMultiLineLength:s}=Er.doubleQuoted,o=JSON.stringify(e);if(r)return o;const i=t.indent||(Tr(e)?"  ":"");let a="",c=0;for(let e=0,t=o[e];t;t=o[++e])if(" "===t&&"\\"===o[e+1]&&"n"===o[e+2]&&(a+=o.slice(c,e)+"\\ ",e+=1,c=e,t="\\"),"\\"===t)switch(o[e+1]){case"u":{a+=o.slice(c,e);const t=o.substr(e+2,4);switch(t){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:"00"===t.substr(0,2)?a+="\\x"+t.substr(2):a+=o.substr(e,6)}e+=5,c=e+1}break;case"n":if(n||'"'===o[e+2]||s>o.length)e+=1;else{for(a+=o.slice(c,e)+"\n\n";"\\"===o[e+2]&&"n"===o[e+3]&&'"'!==o[e+4];)a+="\n",e+=2;a+=i," "===o[e+2]&&(a+="\\"),e+=1,c=e+1}break;default:e+=1}return a=c?a+o.slice(c):o,n?a:Nr(a,i,_r,Ar(t))}function Cr(e,t){if(t.implicitKey){if(/\n/.test(e))return Mr(e,t)}else if(/[ \t]\n|\n[ \t]/.test(e))return Mr(e,t);const n=t.indent||(Tr(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n"+n)+"'";return t.implicitKey?r:Nr(r,n,xr,Ar(t))}function kr({comment:e,type:t,value:n},r,s,o){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Mr(n,r);const i=r.indent||(r.forceBlockIndent||Tr(n)?"  ":""),a=i?"2":"1",c=t!==sr.Type.BLOCK_FOLDED&&(t===sr.Type.BLOCK_LITERAL||!function(e,t,n){if(!t||0>t)return!1;const r=t-n,s=e.length;if(r>=s)return!1;for(let t=0,n=0;s>t;++t)if("\n"===e[t]){if(t-n>r)return!0;if(n=t+1,r>=s-n)return!1}return!0}(n,Er.fold.lineWidth,i.length));let u=c?"|":">";if(!n)return u+"\n";let l="",f="";if(n=n.replace(/[\n\t ]*$/,(e=>{const t=e.indexOf("\n");return-1===t?u+="-":n!==e&&t===e.length-1||(u+="+",o&&o()),f=e.replace(/\n$/,""),""})).replace(/^[\n ]*/,(e=>{-1!==e.indexOf(" ")&&(u+=a);const t=e.match(/ +$/);return t?(l=e.slice(0,-t[0].length),t[0]):(l=e,"")})),f&&(f=f.replace(/\n+(?!\n|$)/g,"$&"+i)),l&&(l=l.replace(/\n+/g,"$&"+i)),e&&(u+=" #"+e.replace(/ ?[\r\n]+/g," "),s&&s()),!n)return`${u}${a}\n${i}${f}`;if(c)return n=n.replace(/\n+/g,"$&"+i),`${u}\n${i}${l}${n}${f}`;n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&"+i);const h=Nr(`${l}${n}${f}`,i,Sr,Er.fold);return`${u}\n${i}${h}`}function $r(e,t){let n,r,s;switch(t.type){case sr.Type.FLOW_MAP:n="}",r="flow map";break;case sr.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:return void e.push(new sr.YAMLSemanticError(t,"Not a flow collection!?"))}for(let e=t.items.length-1;e>=0;--e){const n=t.items[e];if(!n||n.type!==sr.Type.COMMENT){s=n;break}}if(s&&s.char!==n){const o=`Expected ${r} to end with ${n}`;let i;"number"==typeof s.offset?(i=new sr.YAMLSemanticError(t,o),i.offset=s.offset+1):(i=new sr.YAMLSemanticError(s,o),s.range&&s.range.end&&(i.offset=s.range.end-s.range.start)),e.push(i)}}function Rr(e,t){const n=t.context.src[t.range.start-1];if("\n"!==n&&"\t"!==n&&" "!==n){e.push(new sr.YAMLSemanticError(t,"Comments must be separated from other tokens by white space characters"))}}function Pr(e,t){const n=t+"",r=n.substr(0,8)+"..."+n.substr(-8);return new sr.YAMLSemanticError(e,`The "${r}" key is too long`)}function Ir(e,t){for(const{afterKey:n,before:r,comment:s}of t){let t=e.items[r];t?(n&&t.value&&(t=t.value),void 0===s?!n&&t.commentBefore||(t.spaceBefore=!0):t.commentBefore?t.commentBefore+="\n"+s:t.commentBefore=s):void 0!==s&&(e.comment?e.comment+="\n"+s:e.comment=s)}}function Br(e,t){const n=t.strValue;return n?"string"==typeof n?n:(n.errors.forEach((n=>{n.source||(n.source=t),e.errors.push(n)})),n.str):""}function jr(e,t){const{tag:n,type:r}=t;let s=!1;if(n){const{handle:r,suffix:o,verbatim:i}=n;if(i){if("!"!==i&&"!!"!==i)return i;e.errors.push(new sr.YAMLSemanticError(t,`Verbatim tags aren't resolved, so ${i} is invalid.`))}else if("!"!==r||o)try{return function(e,t){const{handle:n,suffix:r}=t.tag;let s=e.tagPrefixes.find((e=>e.handle===n));if(!s){const r=e.getDefaults().tagPrefixes;if(r&&(s=r.find((e=>e.handle===n))),!s)throw new sr.YAMLSemanticError(t,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new sr.YAMLSemanticError(t,`The ${n} tag has no suffix.`);if("!"===n&&"1.0"===(e.version||e.options.version)){if("^"===r[0])return e.warnings.push(new sr.YAMLWarning(t,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){const e=r.match(/^([a-z0-9-]+)\/(.*)/i);return e?`tag:${e[1]}.yaml.org,2002:${e[2]}`:"tag:"+r}}return s.prefix+decodeURIComponent(r)}(e,t)}catch(t){e.errors.push(t)}else s=!0}switch(r){case sr.Type.BLOCK_FOLDED:case sr.Type.BLOCK_LITERAL:case sr.Type.QUOTE_DOUBLE:case sr.Type.QUOTE_SINGLE:return sr.defaultTags.STR;case sr.Type.FLOW_MAP:case sr.Type.MAP:return sr.defaultTags.MAP;case sr.Type.FLOW_SEQ:case sr.Type.SEQ:return sr.defaultTags.SEQ;case sr.Type.PLAIN:return s?sr.defaultTags.STR:null;default:return null}}function Fr(e,t,n){const{tags:r}=e.schema,s=[];for(const o of r)if(o.tag===n){if(!o.test){const n=o.resolve(e,t);return n instanceof fr?n:new cr(n)}s.push(o)}const o=Br(e,t);return"string"==typeof o&&s.length>0?Or(o,s,r.scalarFallback):null}function Dr(e,t,n){try{const r=Fr(e,t,n);if(r)return n&&t.tag&&(r.tag=n),r}catch(n){return n.source||(n.source=t),e.errors.push(n),null}try{const r=function({type:e}){switch(e){case sr.Type.FLOW_MAP:case sr.Type.MAP:return sr.defaultTags.MAP;case sr.Type.FLOW_SEQ:case sr.Type.SEQ:return sr.defaultTags.SEQ;default:return sr.defaultTags.STR}}(t);if(!r)throw Error(`The tag ${n} is unavailable`);e.warnings.push(new sr.YAMLWarning(t,`The tag ${n} is unavailable, falling back to ${r}`));const s=Fr(e,t,r);return s.tag=n,s}catch(n){const r=new sr.YAMLReferenceError(t,n.message);return r.stack=n.stack,e.errors.push(r),null}}const Yr=e=>{if(!e)return!1;const{type:t}=e;return t===sr.Type.MAP_KEY||t===sr.Type.MAP_VALUE||t===sr.Type.SEQ_ITEM};function qr(e,t){if(!t)return null;t.error&&e.errors.push(t.error);const{comments:n,hasAnchor:r,hasTag:s}=function(e,t){const n={before:[],after:[]};let r=!1,s=!1;const o=Yr(t.context.parent)?t.context.parent.props.concat(t.props):t.props;for(const{start:i,end:a}of o)switch(t.context.src[i]){case sr.Char.COMMENT:{t.commentHasRequiredWhitespace(i)||e.push(new sr.YAMLSemanticError(t,"Comments must be separated from other tokens by white space characters"));const{header:r,valueRange:s}=t;(s&&(i>s.start||r&&i>r.start)?n.after:n.before).push(t.context.src.slice(i+1,a));break}case sr.Char.ANCHOR:r&&e.push(new sr.YAMLSemanticError(t,"A node can have at most one anchor")),r=!0;break;case sr.Char.TAG:s&&e.push(new sr.YAMLSemanticError(t,"A node can have at most one tag")),s=!0}return{comments:n,hasAnchor:r,hasTag:s}}(e.errors,t);if(r){const{anchors:n}=e,r=t.anchor,s=n.getNode(r);s&&(n.map[n.newName(r)]=s),n.map[r]=t}if(t.type===sr.Type.ALIAS&&(r||s)){e.errors.push(new sr.YAMLSemanticError(t,"An alias node must not specify any properties"))}const o=function(e,t){const{anchors:n,errors:r,schema:s}=e;if(t.type===sr.Type.ALIAS){const e=t.rawValue,s=n.getNode(e);if(!s)return r.push(new sr.YAMLReferenceError(t,"Aliased anchor not found: "+e)),null;const o=new mr(s);return n._cstAliases.push(o),o}const o=jr(e,t);if(o)return Dr(e,t,o);if(t.type!==sr.Type.PLAIN)return r.push(new sr.YAMLSyntaxError(t,`Failed to resolve ${t.type} node here`)),null;try{return Or(Br(e,t),s.tags,s.tags.scalarFallback)}catch(e){return e.source||(e.source=t),r.push(e),null}}(e,t);if(o){o.range=[t.range.start,t.range.end],e.options.keepCstNodes&&(o.cstNode=t),e.options.keepNodeTypes&&(o.type=t.type);const r=n.before.join("\n");r&&(o.commentBefore=o.commentBefore?`${o.commentBefore}\n${r}`:r);const s=n.after.join("\n");s&&(o.comment=o.comment?`${o.comment}\n${s}`:s)}return t.resolved=o}const Ur=({context:{lineStart:e,node:t,src:n},props:r})=>{if(0===r.length)return!1;const{start:s}=r[0];if(t&&s>t.valueRange.start)return!1;if(n[s]!==sr.Char.COMMENT)return!1;for(let t=e;s>t;++t)if("\n"===n[t])return!1;return!0};function Wr(e,t){if(!Ur(e))return;const n=e.getPropValue(0,sr.Char.COMMENT,!0);let r=!1;const s=t.value.commentBefore;if(s&&s.startsWith(n))t.value.commentBefore=s.substr(n.length+1),r=!0;else{const s=t.value.comment;!e.node&&s&&s.startsWith(n)&&(t.value.comment=s.substr(n.length+1),r=!0)}r&&(t.comment=n)}rr.Alias=mr,rr.Collection=fr,rr.Merge=br,rr.Node=ir,rr.Pair=dr,rr.Scalar=cr,rr.YAMLMap=vr,rr.YAMLSeq=pr,rr.addComment=or,rr.binaryOptions=wr,rr.boolOptions={trueStr:"true",falseStr:"false"},rr.findPair=yr,rr.intOptions={asBigInt:!1},rr.isEmptyPath=lr,rr.nullOptions={nullStr:"null"},rr.resolveMap=function(e,t){if(t.type!==sr.Type.MAP&&t.type!==sr.Type.FLOW_MAP){return e.errors.push(new sr.YAMLSyntaxError(t,`A ${t.type} node cannot be resolved as a mapping`)),null}const{comments:n,items:r}=t.type===sr.Type.FLOW_MAP?function(e,t){const n=[],r=[];let s,o=!1,i="{";for(let a=0;t.items.length>a;++a){const c=t.items[a];if("string"==typeof c.char){const{char:n,offset:u}=c;if("?"===n&&void 0===s&&!o){o=!0,i=":";continue}if(":"===n){if(void 0===s&&(s=null),":"===i){i=",";continue}}else if(o&&(void 0===s&&","!==n&&(s=null),o=!1),void 0!==s&&(r.push(new dr(s)),s=void 0,","===n)){i=":";continue}if("}"===n){if(a===t.items.length-1)continue}else if(n===i){i=":";continue}const l=new sr.YAMLSyntaxError(t,"Flow map contains an unexpected "+n);l.offset=u,e.errors.push(l)}else c.type===sr.Type.BLANK_LINE?n.push({afterKey:!!s,before:r.length}):c.type===sr.Type.COMMENT?(Rr(e.errors,c),n.push({afterKey:!!s,before:r.length,comment:c.comment})):void 0===s?(","===i&&e.errors.push(new sr.YAMLSemanticError(c,"Separator , missing in flow map")),s=qr(e,c)):(","!==i&&e.errors.push(new sr.YAMLSemanticError(c,"Indicator : missing in flow map entry")),r.push(new dr(s,qr(e,c))),s=void 0,o=!1)}$r(e.errors,t),void 0!==s&&r.push(new dr(s));return{comments:n,items:r}}(e,t):function(e,t){const n=[],r=[];let s,o=null;for(let i=0;t.items.length>i;++i){const a=t.items[i];switch(a.type){case sr.Type.BLANK_LINE:n.push({afterKey:!!s,before:r.length});break;case sr.Type.COMMENT:n.push({afterKey:!!s,before:r.length,comment:a.comment});break;case sr.Type.MAP_KEY:void 0!==s&&r.push(new dr(s)),a.error&&e.errors.push(a.error),s=qr(e,a.node),o=null;break;case sr.Type.MAP_VALUE:{if(void 0===s&&(s=null),a.error&&e.errors.push(a.error),!a.context.atLineStart&&a.node&&a.node.type===sr.Type.MAP&&!a.node.context.atLineStart){e.errors.push(new sr.YAMLSemanticError(a.node,"Nested mappings are not allowed in compact mappings"))}let n=a.node;if(!n&&a.props.length>0){n=new sr.PlainValue(sr.Type.PLAIN,[]),n.context={parent:a,src:a.context.src};const e=a.range.start+1;if(n.range={start:e,end:e},n.valueRange={start:e,end:e},"number"==typeof a.range.origStart){const e=a.range.origStart+1;n.range.origStart=n.range.origEnd=e,n.valueRange.origStart=n.valueRange.origEnd=e}}const i=new dr(s,qr(e,n));Wr(a,i),r.push(i),s&&"number"==typeof o&&a.range.start>o+1024&&e.errors.push(Pr(t,s)),s=void 0,o=null}break;default:void 0!==s&&r.push(new dr(s)),s=qr(e,a),o=a.range.start,a.error&&e.errors.push(a.error);e:for(let n=i+1;;++n){const r=t.items[n];switch(r&&r.type){case sr.Type.BLANK_LINE:case sr.Type.COMMENT:continue e;case sr.Type.MAP_VALUE:break e;default:e.errors.push(new sr.YAMLSemanticError(a,"Implicit map keys need to be followed by map values"));break e}}if(a.valueRangeContainsNewline){e.errors.push(new sr.YAMLSemanticError(a,"Implicit map keys need to be on a single line"))}}}void 0!==s&&r.push(new dr(s));return{comments:n,items:r}}(e,t),s=new vr;s.items=r,Ir(s,n);let o=!1;for(let n=0;r.length>n;++n){const{key:s}=r[n];if(s instanceof fr&&(o=!0),e.schema.merge&&s&&"<<"===s.value){r[n]=new br(r[n]);let s=null;r[n].value.items.some((e=>{if(e instanceof mr){const{type:t}=e.source;return t!==sr.Type.MAP&&t!==sr.Type.FLOW_MAP&&(s="Merge nodes aliases can only point to maps")}return s="Merge nodes can only have Alias nodes as values"})),s&&e.errors.push(new sr.YAMLSemanticError(t,s))}else for(let o=n+1;r.length>o;++o){const{key:n}=r[o];if(s===n||s&&n&&Object.prototype.hasOwnProperty.call(s,"value")&&s.value===n.value){e.errors.push(new sr.YAMLSemanticError(t,`Map keys must be unique; "${s}" is repeated`));break}}}if(o&&!e.options.mapAsMap){e.warnings.push(new sr.YAMLWarning(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this."))}return t.resolved=s,s},rr.resolveNode=qr,rr.resolveSeq=function(e,t){if(t.type!==sr.Type.SEQ&&t.type!==sr.Type.FLOW_SEQ){return e.errors.push(new sr.YAMLSyntaxError(t,`A ${t.type} node cannot be resolved as a sequence`)),null}const{comments:n,items:r}=t.type===sr.Type.FLOW_SEQ?function(e,t){const n=[],r=[];let s,o=!1,i=null,a="[",c=null;for(let u=0;t.items.length>u;++u){const l=t.items[u];if("string"==typeof l.char){const{char:n,offset:f}=l;if(":"===n||!o&&void 0===s||(o&&void 0===s&&(s=a?r.pop():null),r.push(new dr(s)),o=!1,s=void 0,i=null),n===a)a=null;else if(a||"?"!==n){if("["!==a&&":"===n&&void 0===s){if(","===a){if(s=r.pop(),s instanceof dr){const n=new sr.YAMLSemanticError(t,"Chaining flow sequence pairs is invalid");n.offset=f,e.errors.push(n)}if(!o&&"number"==typeof i){const n=l.range?l.range.start:l.offset;n>i+1024&&e.errors.push(Pr(t,s));const{src:r}=c.context;for(let t=i;n>t;++t)if("\n"===r[t]){e.errors.push(new sr.YAMLSemanticError(c,"Implicit keys of flow sequence pairs need to be on a single line"));break}}}else s=null;i=null,o=!1,a=null}else if("["===a||"]"!==n||t.items.length-1>u){const r=new sr.YAMLSyntaxError(t,"Flow sequence contains an unexpected "+n);r.offset=f,e.errors.push(r)}}else o=!0}else if(l.type===sr.Type.BLANK_LINE)n.push({before:r.length});else if(l.type===sr.Type.COMMENT)Rr(e.errors,l),n.push({comment:l.comment,before:r.length});else{if(a){e.errors.push(new sr.YAMLSemanticError(l,`Expected a ${a} in flow sequence`))}const t=qr(e,l);void 0===s?(r.push(t),c=l):(r.push(new dr(s,t)),s=void 0),i=l.range.start,a=","}}$r(e.errors,t),void 0!==s&&r.push(new dr(s));return{comments:n,items:r}}(e,t):function(e,t){const n=[],r=[];for(let s=0;t.items.length>s;++s){const o=t.items[s];switch(o.type){case sr.Type.BLANK_LINE:n.push({before:r.length});break;case sr.Type.COMMENT:n.push({comment:o.comment,before:r.length});break;case sr.Type.SEQ_ITEM:if(o.error&&e.errors.push(o.error),r.push(qr(e,o.node)),o.hasProps){e.errors.push(new sr.YAMLSemanticError(o,"Sequence items cannot have tags or anchors before the - indicator"))}break;default:o.error&&e.errors.push(o.error),e.errors.push(new sr.YAMLSyntaxError(o,`Unexpected ${o.type} node in sequence`))}}return{comments:n,items:r}}(e,t),s=new pr;if(s.items=r,Ir(s,n),!e.options.mapAsMap&&r.some((e=>e instanceof dr&&e.key instanceof fr))){e.warnings.push(new sr.YAMLWarning(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this."))}return t.resolved=s,s},rr.resolveString=Br,rr.strOptions=Er,rr.stringifyNumber=function({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return r+"";if(!isFinite(r))return isNaN(r)?".nan":0>r?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(s)){let e=s.indexOf(".");0>e&&(e=s.length,s+=".");let n=t-(s.length-e-1);for(;n-- >0;)s+="0"}return s},rr.stringifyString=function(e,t,n,r){const{defaultType:s}=Er,{implicitKey:o,inFlow:i}=t;let{type:a,value:c}=e;"string"!=typeof c&&(c+="",e=Object.assign({},e,{value:c}));const u=s=>{switch(s){case sr.Type.BLOCK_FOLDED:case sr.Type.BLOCK_LITERAL:return kr(e,t,n,r);case sr.Type.QUOTE_DOUBLE:return Mr(c,t);case sr.Type.QUOTE_SINGLE:return Cr(c,t);case sr.Type.PLAIN:return function(e,t,n,r){const{comment:s,type:o,value:i}=e,{actualString:a,implicitKey:c,indent:u,inFlow:l}=t;if(c&&/[\n[\]{},]/.test(i)||l&&/[[\]{},]/.test(i))return Mr(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return c||l||-1===i.indexOf("\n")?-1!==i.indexOf('"')&&-1===i.indexOf("'")?Cr(i,t):Mr(i,t):kr(e,t,n,r);if(!c&&!l&&o!==sr.Type.PLAIN&&-1!==i.indexOf("\n"))return kr(e,t,n,r);if(""===u&&Tr(i))return t.forceBlockIndent=!0,kr(e,t,n,r);const f=i.replace(/\n+/g,"$&\n"+u);if(a){const{tags:e}=t.doc.schema;if("string"!=typeof Or(f,e,e.scalarFallback).value)return Mr(i,t)}const h=c?f:Nr(f,u,xr,Ar(t));return!s||l||-1===h.indexOf("\n")&&-1===s.indexOf("\n")?h:(n&&n(),function(e,t,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${t}#`)}\n${t}${e}`:e}(h,u,s))}(e,t,n,r);default:return null}};a!==sr.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(c)?a=sr.Type.QUOTE_DOUBLE:!o&&!i||a!==sr.Type.BLOCK_FOLDED&&a!==sr.Type.BLOCK_LITERAL||(a=sr.Type.QUOTE_DOUBLE);let l=u(a);if(null===l&&(l=u(s),null===l))throw Error("Unsupported default string type "+s);return l},rr.toJSON=ar;var Jr={},Kr={},Qr=Nn,Hr=rr;const zr={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(e,t)=>{const n=Hr.resolveString(e,t);if("function"==typeof Buffer)return Buffer.from(n,"base64");if("function"==typeof atob){const e=atob(n.replace(/[\n\r]/g,"")),t=new Uint8Array(e.length);for(let n=0;e.length>n;++n)t[n]=e.charCodeAt(n);return t}return e.errors.push(new Qr.YAMLReferenceError(t,"This environment does not support reading binary tags; either Buffer or atob is required")),null},options:Hr.binaryOptions,stringify:({comment:e,type:t,value:n},r,s,o)=>{let i;if("function"==typeof Buffer)i=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else{if("function"!=typeof btoa)throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;n.length>t;++t)e+=String.fromCharCode(n[t]);i=btoa(e)}}if(t||(t=Hr.binaryOptions.defaultType),t===Qr.Type.QUOTE_DOUBLE)n=i;else{const{lineWidth:e}=Hr.binaryOptions,r=Math.ceil(i.length/e),s=Array(r);for(let t=0,n=0;r>t;++t,n+=e)s[t]=i.substr(n,e);n=s.join(t===Qr.Type.BLOCK_LITERAL?"\n":" ")}return Hr.stringifyString({comment:e,type:t,value:n},r,s,o)}};function Vr(e,t){const n=Hr.resolveSeq(e,t);for(let e=0;n.items.length>e;++e){let r=n.items[e];if(!(r instanceof Hr.Pair)){if(r instanceof Hr.YAMLMap){if(r.items.length>1){throw new Qr.YAMLSemanticError(t,"Each pair must have its own sequence indicator")}const e=r.items[0]||new Hr.Pair;r.commentBefore&&(e.commentBefore=e.commentBefore?`${r.commentBefore}\n${e.commentBefore}`:r.commentBefore),r.comment&&(e.comment=e.comment?`${r.comment}\n${e.comment}`:r.comment),r=e}n.items[e]=r instanceof Hr.Pair?r:new Hr.Pair(r)}}return n}function Gr(e,t,n){const r=new Hr.YAMLSeq(e);r.tag="tag:yaml.org,2002:pairs";for(const s of t){let t,o;if(Array.isArray(s)){if(2!==s.length)throw new TypeError("Expected [key, value] tuple: "+s);t=s[0],o=s[1]}else if(s&&s instanceof Object){const e=Object.keys(s);if(1!==e.length)throw new TypeError("Expected { key: value } tuple: "+s);t=e[0],o=s[t]}else t=s;const i=e.createPair(t,o,n);r.items.push(i)}return r}const Xr={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Vr,createNode:Gr};class Zr extends Hr.YAMLSeq{constructor(){super(),Qr._defineProperty(this,"add",Hr.YAMLMap.prototype.add.bind(this)),Qr._defineProperty(this,"delete",Hr.YAMLMap.prototype.delete.bind(this)),Qr._defineProperty(this,"get",Hr.YAMLMap.prototype.get.bind(this)),Qr._defineProperty(this,"has",Hr.YAMLMap.prototype.has.bind(this)),Qr._defineProperty(this,"set",Hr.YAMLMap.prototype.set.bind(this)),this.tag=Zr.tag}toJSON(e,t){const n=new Map;t&&t.onCreate&&t.onCreate(n);for(const e of this.items){let r,s;if(e instanceof Hr.Pair?(r=Hr.toJSON(e.key,"",t),s=Hr.toJSON(e.value,r,t)):r=Hr.toJSON(e,"",t),n.has(r))throw Error("Ordered maps must not include duplicate keys");n.set(r,s)}return n}}Qr._defineProperty(Zr,"tag","tag:yaml.org,2002:omap");const es={identify:e=>e instanceof Map,nodeClass:Zr,default:!1,tag:"tag:yaml.org,2002:omap",resolve:function(e,t){const n=Vr(e,t),r=[];for(const{key:e}of n.items)if(e instanceof Hr.Scalar){if(r.includes(e.value)){throw new Qr.YAMLSemanticError(t,"Ordered maps must not include duplicate keys")}r.push(e.value)}return Object.assign(new Zr,n)},createNode:function(e,t,n){const r=Gr(e,t,n),s=new Zr;return s.items=r.items,s}};class ts extends Hr.YAMLMap{constructor(){super(),this.tag=ts.tag}add(e){const t=e instanceof Hr.Pair?e:new Hr.Pair(e);Hr.findPair(this.items,t.key)||this.items.push(t)}get(e,t){const n=Hr.findPair(this.items,e);return!t&&n instanceof Hr.Pair?n.key instanceof Hr.Scalar?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Hr.findPair(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Hr.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,t,n);throw Error("Set items must all have null values")}}Qr._defineProperty(ts,"tag","tag:yaml.org,2002:set");const ns={identify:e=>e instanceof Set,nodeClass:ts,default:!1,tag:"tag:yaml.org,2002:set",resolve:function(e,t){const n=Hr.resolveMap(e,t);if(!n.hasAllNullValues())throw new Qr.YAMLSemanticError(t,"Set items must all have null values");return Object.assign(new ts,n)},createNode:function(e,t,n){const r=new ts;for(const s of t)r.items.push(e.createPair(s,null,n));return r}},rs=(e,t)=>{const n=t.split(":").reduce(((e,t)=>60*e+Number(t)),0);return"-"===e?-n:n},ss=({value:e})=>{if(isNaN(e)||!isFinite(e))return Hr.stringifyNumber(e);let t="";0>e&&(t="-",e=Math.abs(e));const n=[e%60];return 60>e?n.unshift(0):(n.unshift((e=Math.round((e-n[0])/60))%60),60>e||n.unshift(e=Math.round((e-n[0])/60))),t+n.map((e=>10>e?"0"+e:e+"")).join(":").replace(/000000\d*$/,"")},os={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(e,t,n)=>rs(t,n.replace(/_/g,"")),stringify:ss},is={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(e,t,n)=>rs(t,n.replace(/_/g,"")),stringify:ss},as={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(e,t,n,r,s,o,i,a,c)=>{a&&(a=(a+"00").substr(1,3));let u=Date.UTC(t,n-1,r,s||0,o||0,i||0,a||0);if(c&&"Z"!==c){let e=rs(c[0],c.slice(1));30>Math.abs(e)&&(e*=60),u-=6e4*e}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function cs(e){const t="undefined"!=typeof process&&process.env||{};return e?"undefined"!=typeof YAML_SILENCE_DEPRECATION_WARNINGS?!YAML_SILENCE_DEPRECATION_WARNINGS:!t.YAML_SILENCE_DEPRECATION_WARNINGS:"undefined"!=typeof YAML_SILENCE_WARNINGS?!YAML_SILENCE_WARNINGS:!t.YAML_SILENCE_WARNINGS}function us(e,t){if(cs(!1)){const n="undefined"!=typeof process&&process.emitWarning;n?n(e,t):console.warn(t?`${t}: ${e}`:e)}}const ls={};Kr.binary=zr,Kr.floatTime=is,Kr.intTime=os,Kr.omap=es,Kr.pairs=Xr,Kr.set=ns,Kr.timestamp=as,Kr.warn=us,Kr.warnFileDeprecation=function(e){if(cs(!0)){us(`The endpoint 'yaml/${e.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/")}' will be removed in a future release.`,"DeprecationWarning")}},Kr.warnOptionDeprecation=function(e,t){if(!ls[e]&&cs(!0)){ls[e]=!0;let n=`The option '${e}' will be removed in a future release`;n+=t?`, use '${t}' instead.`:".",us(n,"DeprecationWarning")}};var fs=Nn,hs=rr,ps=Kr;const ds={createNode:function(e,t,n){const r=new hs.YAMLMap(e);if(t instanceof Map)for(const[s,o]of t)r.items.push(e.createPair(s,o,n));else if(t&&"object"==typeof t)for(const s of Object.keys(t))r.items.push(e.createPair(s,t[s],n));return"function"==typeof e.sortMapEntries&&r.items.sort(e.sortMapEntries),r},default:!0,nodeClass:hs.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:hs.resolveMap};const gs={createNode:function(e,t,n){const r=new hs.YAMLSeq(e);if(t&&t[Symbol.iterator])for(const s of t){const t=e.createNode(s,n.wrapScalars,null,n);r.items.push(t)}return r},default:!0,nodeClass:hs.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:hs.resolveSeq},ms=[ds,gs,{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:hs.resolveString,stringify:(e,t,n,r)=>(t=Object.assign({actualString:!0},t),hs.stringifyString(e,t,n,r)),options:hs.strOptions}],ys=e=>"bigint"==typeof e||Number.isInteger(e),vs=(e,t,n)=>hs.intOptions.asBigInt?BigInt(e):parseInt(t,n);function bs(e,t,n){const{value:r}=e;return ys(r)&&r>=0?n+r.toString(t):hs.stringifyNumber(e)}const ws={identify:e=>null==e,createNode:(e,t,n)=>n.wrapScalars?new hs.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:hs.nullOptions,stringify:()=>hs.nullOptions.nullStr},Es={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>"t"===e[0]||"T"===e[0],options:hs.boolOptions,stringify:({value:e})=>e?hs.boolOptions.trueStr:hs.boolOptions.falseStr},Os={identify:e=>ys(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(e,t)=>vs(e,t,8),options:hs.intOptions,stringify:e=>bs(e,8,"0o")},xs={identify:ys,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:e=>vs(e,e,10),options:hs.intOptions,stringify:hs.stringifyNumber},Ss={identify:e=>ys(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(e,t)=>vs(e,t,16),options:hs.intOptions,stringify:e=>bs(e,16,"0x")},_s={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(e,t)=>t?NaN:"-"===e[0]?-1/0:1/0,stringify:hs.stringifyNumber},Ls={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify:({value:e})=>Number(e).toExponential()},Ns={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(e,t,n){const r=t||n,s=new hs.Scalar(parseFloat(e));return r&&"0"===r[r.length-1]&&(s.minFractionDigits=r.length),s},stringify:hs.stringifyNumber},As=ms.concat([ws,Es,Os,xs,Ss,_s,Ls,Ns]),Ts=e=>"bigint"==typeof e||Number.isInteger(e),Ms=({value:e})=>JSON.stringify(e),Cs=[ds,gs,{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:hs.resolveString,stringify:Ms},{identify:e=>null==e,createNode:(e,t,n)=>n.wrapScalars?new hs.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ms},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:Ms},{identify:Ts,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:e=>hs.intOptions.asBigInt?BigInt(e):parseInt(e,10),stringify:({value:e})=>Ts(e)?""+e:JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Ms}];Cs.scalarFallback=e=>{throw new SyntaxError("Unresolved plain scalar "+JSON.stringify(e))};const ks=({value:e})=>e?hs.boolOptions.trueStr:hs.boolOptions.falseStr,$s=e=>"bigint"==typeof e||Number.isInteger(e);function Rs(e,t,n){let r=t.replace(/_/g,"");if(hs.intOptions.asBigInt){switch(n){case 2:r="0b"+r;break;case 8:r="0o"+r;break;case 16:r="0x"+r}const t=BigInt(r);return"-"===e?BigInt(-1)*t:t}const s=parseInt(r,n);return"-"===e?-1*s:s}function Ps(e,t,n){const{value:r}=e;if($s(r)){const e=r.toString(t);return 0>r?"-"+n+e.substr(1):n+e}return hs.stringifyNumber(e)}const Is=ms.concat([{identify:e=>null==e,createNode:(e,t,n)=>n.wrapScalars?new hs.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:hs.nullOptions,stringify:()=>hs.nullOptions.nullStr},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:hs.boolOptions,stringify:ks},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:hs.boolOptions,stringify:ks},{identify:$s,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(e,t,n)=>Rs(t,n,2),stringify:e=>Ps(e,2,"0b")},{identify:$s,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(e,t,n)=>Rs(t,n,8),stringify:e=>Ps(e,8,"0")},{identify:$s,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(e,t,n)=>Rs(t,n,10),stringify:hs.stringifyNumber},{identify:$s,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(e,t,n)=>Rs(t,n,16),stringify:e=>Ps(e,16,"0x")},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(e,t)=>t?NaN:"-"===e[0]?-1/0:1/0,stringify:hs.stringifyNumber},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify:({value:e})=>Number(e).toExponential()},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(e,t){const n=new hs.Scalar(parseFloat(e.replace(/_/g,"")));if(t){const e=t.replace(/_/g,"");"0"===e[e.length-1]&&(n.minFractionDigits=e.length)}return n},stringify:hs.stringifyNumber}],ps.binary,ps.omap,ps.pairs,ps.set,ps.intTime,ps.floatTime,ps.timestamp),Bs={core:As,failsafe:ms,json:Cs,yaml11:Is},js={binary:ps.binary,bool:Es,float:Ns,floatExp:Ls,floatNaN:_s,floatTime:ps.floatTime,int:xs,intHex:Ss,intOct:Os,intTime:ps.intTime,map:ds,null:ws,omap:ps.omap,pairs:ps.pairs,seq:gs,set:ps.set,timestamp:ps.timestamp};function Fs(e,t,n){if(e instanceof hs.Node)return e;const{defaultPrefix:r,onTagObj:s,prevObjects:o,schema:i,wrapScalars:a}=n;t&&t.startsWith("!!")&&(t=r+t.slice(2));let c=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),r=e.find((e=>!e.format))||e[0];if(!r)throw Error(`Tag ${t} not found`);return r}return n.find((t=>(t.identify&&t.identify(e)||t.class&&e instanceof t.class)&&!t.format))}(e,t,i.tags);if(!c){if("function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e)return a?new hs.Scalar(e):e;c=e instanceof Map?ds:e[Symbol.iterator]?gs:ds}s&&(s(c),delete n.onTagObj);const u={value:void 0,node:void 0};if(e&&"object"==typeof e&&o){const t=o.get(e);if(t){const e=new hs.Alias(t);return n.aliasNodes.push(e),e}u.value=e,o.set(e,u)}return u.node=c.createNode?c.createNode(n.schema,e,n):a?new hs.Scalar(e):e,t&&u.node instanceof hs.Node&&(u.node.tag=t),u.node}const Ds=(e,t)=>t.key>e.key?-1:e.key>t.key?1:0;class Ys{constructor({customTags:e,merge:t,schema:n,sortMapEntries:r,tags:s}){this.merge=!!t,this.name=n,this.sortMapEntries=!0===r?Ds:r||null,!e&&s&&ps.warnOptionDeprecation("tags","customTags"),this.tags=function(e,t,n,r){let s=e[r.replace(/\W/g,"")];if(!s){const t=Object.keys(e).map((e=>JSON.stringify(e))).join(", ");throw Error(`Unknown schema "${r}"; use one of ${t}`)}if(Array.isArray(n))for(const e of n)s=s.concat(e);else"function"==typeof n&&(s=n(s.slice()));for(let e=0;s.length>e;++e){const n=s[e];if("string"==typeof n){const r=t[n];if(!r){const e=Object.keys(t).map((e=>JSON.stringify(e))).join(", ");throw Error(`Unknown custom tag "${n}"; use one of ${e}`)}s[e]=r}}return s}(Bs,js,e||s,n)}createNode(e,t,n,r){const s={defaultPrefix:Ys.defaultPrefix,schema:this,wrapScalars:t};return Fs(e,n,r?Object.assign(r,s):s)}createPair(e,t,n){n||(n={wrapScalars:!0});const r=this.createNode(e,n.wrapScalars,null,n),s=this.createNode(t,n.wrapScalars,null,n);return new hs.Pair(r,s)}}fs._defineProperty(Ys,"defaultPrefix",fs.defaultTagPrefix),fs._defineProperty(Ys,"defaultTags",fs.defaultTags),Jr.Schema=Ys;var qs=Nn,Us=rr,Ws=Jr;const Js={get binary(){return Us.binaryOptions},set binary(e){Object.assign(Us.binaryOptions,e)},get bool(){return Us.boolOptions},set bool(e){Object.assign(Us.boolOptions,e)},get int(){return Us.intOptions},set int(e){Object.assign(Us.intOptions,e)},get null(){return Us.nullOptions},set null(e){Object.assign(Us.nullOptions,e)},get str(){return Us.strOptions},set str(e){Object.assign(Us.strOptions,e)}},Ks={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:qs.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:qs.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:qs.defaultTagPrefix}]}};function Qs(e,t){if("1.0"===(e.version||e.options.version)){const e=t.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(e)return"!"+e[1];const n=t.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return n?`!${n[1]}/${n[2]}`:"!"+t.replace(/^tag:/,"")}let n=e.tagPrefixes.find((e=>0===t.indexOf(e.prefix)));if(!n){const r=e.getDefaults().tagPrefixes;n=r&&r.find((e=>0===t.indexOf(e.prefix)))}if(!n)return"!"===t[0]?t:`!<${t}>`;const r=t.substr(n.prefix.length).replace(/[!,[\]{}]/g,(e=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"}[e])));return n.handle+r}function Hs(e,t,n,r){const{anchors:s,schema:o}=t.doc;let i;if(!(e instanceof Us.Node)){const t={aliasNodes:[],onTagObj:e=>i=e,prevObjects:new Map};e=o.createNode(e,!0,null,t);for(const e of t.aliasNodes){e.source=e.source.node;let t=s.getName(e.source);t||(t=s.newName(),s.map[t]=e.source)}}if(e instanceof Us.Pair)return e.toString(t,n,r);i||(i=function(e,t){if(t instanceof Us.Alias)return Us.Alias;if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))||n[0]}let n,r;if(t instanceof Us.Scalar){r=t.value;const s=e.filter((e=>e.identify&&e.identify(r)||e.class&&r instanceof e.class));n=s.find((e=>e.format===t.format))||s.find((e=>!e.format))}else r=t,n=e.find((e=>e.nodeClass&&r instanceof e.nodeClass));if(!n)throw Error(`Tag not resolved for ${r&&r.constructor?r.constructor.name:typeof r} value`);return n}(o.tags,e));const a=function(e,t,{anchors:n,doc:r}){const s=[],o=r.anchors.getName(e);return o&&(n[o]=e,s.push("&"+o)),e.tag?s.push(Qs(r,e.tag)):t.default||s.push(Qs(r,t.tag)),s.join(" ")}(e,i,t);a.length>0&&(t.indentAtStart=(t.indentAtStart||0)+a.length+1);const c="function"==typeof i.stringify?i.stringify(e,t,n,r):e instanceof Us.Scalar?Us.stringifyString(e,t,n,r):e.toString(t,n,r);return a?e instanceof Us.Scalar||"{"===c[0]||"["===c[0]?`${a} ${c}`:`${a}\n${t.indent}${c}`:c}class zs{static validAnchorNode(e){return e instanceof Us.Scalar||e instanceof Us.YAMLSeq||e instanceof Us.YAMLMap}constructor(e){qs._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,t){return this.setAnchor(e,t),new Us.Alias(e)}createMergePair(...e){const t=new Us.Merge;return t.value.items=e.map((e=>{if(e instanceof Us.Alias){if(e.source instanceof Us.YAMLMap)return e}else if(e instanceof Us.YAMLMap)return this.createAlias(e);throw Error("Merge sources must be Map nodes or their Aliases")})),t}getName(e){const{map:t}=this;return Object.keys(t).find((n=>t[n]===e))}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);const t=Object.keys(this.map);for(let n=1;;++n){const r=`${e}${n}`;if(!t.includes(r))return r}}resolveNodes(){const{map:e,_cstAliases:t}=this;Object.keys(e).forEach((t=>{e[t]=e[t].resolved})),t.forEach((e=>{e.source=e.source.resolved})),delete this._cstAliases}setAnchor(e,t){if(null!=e&&!zs.validAnchorNode(e))throw Error("Anchors may only be set for Scalar, Seq and Map nodes");if(t&&/[\x00-\x19\s,[\]{}]/.test(t))throw Error("Anchor names must not contain whitespace or control characters");const{map:n}=this,r=e&&Object.keys(n).find((t=>n[t]===e));if(r){if(!t)return r;r!==t&&(delete n[r],n[t]=e)}else{if(!t){if(!e)return null;t=this.newName()}n[t]=e}return t}}const Vs=(e,t)=>{if(e&&"object"==typeof e){const{tag:n}=e;e instanceof Us.Collection?(n&&(t[n]=!0),e.items.forEach((e=>Vs(e,t)))):e instanceof Us.Pair?(Vs(e.key,t),Vs(e.value,t)):e instanceof Us.Scalar&&n&&(t[n]=!0)}return t};function Gs({tagPrefixes:e},t){const[n,r]=t.parameters;if(!n||!r){throw new qs.YAMLSemanticError(t,"Insufficient parameters given for %TAG directive")}if(e.some((e=>e.handle===n))){throw new qs.YAMLSemanticError(t,"The %TAG directive must only be given at most once per handle in the same document.")}return{handle:n,prefix:r}}function Xs(e,t){let[n]=t.parameters;if("YAML:1.0"===t.name&&(n="1.0"),!n){throw new qs.YAMLSemanticError(t,"Insufficient parameters given for %YAML directive")}if(!Ks[n]){e.warnings.push(new qs.YAMLWarning(t,`Document will be parsed as YAML ${e.version||e.options.version} rather than YAML ${n}`))}return n}function Zs(e){if(e instanceof Us.Collection)return!0;throw Error("Expected a YAML collection as document contents")}class eo{constructor(e){this.anchors=new zs(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Zs(this.contents),this.contents.add(e)}addIn(e,t){Zs(this.contents),this.contents.addIn(e,t)}delete(e){return Zs(this.contents),this.contents.delete(e)}deleteIn(e){return Us.isEmptyPath(e)?null!=this.contents&&(this.contents=null,!0):(Zs(this.contents),this.contents.deleteIn(e))}getDefaults(){return eo.defaults[this.version]||eo.defaults[this.options.version]||{}}get(e,t){return this.contents instanceof Us.Collection?this.contents.get(e,t):void 0}getIn(e,t){return Us.isEmptyPath(e)?!t&&this.contents instanceof Us.Scalar?this.contents.value:this.contents:this.contents instanceof Us.Collection?this.contents.getIn(e,t):void 0}has(e){return this.contents instanceof Us.Collection&&this.contents.has(e)}hasIn(e){return Us.isEmptyPath(e)?void 0!==this.contents:this.contents instanceof Us.Collection&&this.contents.hasIn(e)}set(e,t){Zs(this.contents),this.contents.set(e,t)}setIn(e,t){Us.isEmptyPath(e)?this.contents=t:(Zs(this.contents),this.contents.setIn(e,t))}setSchema(e,t){if(!e&&!t&&this.schema)return;"number"==typeof e&&(e=e.toFixed(1)),"1.0"===e||"1.1"===e||"1.2"===e?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&"string"==typeof e&&(this.options.schema=e),Array.isArray(t)&&(this.options.customTags=t);const n=Object.assign({},this.getDefaults(),this.options);this.schema=new Ws.Schema(n)}parse(e,t){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");const{directives:n=[],contents:r=[],directivesEndMarker:s,error:o,valueRange:i}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),function(e,t,n){const r=[];let s=!1;for(const n of t){const{comment:t,name:o}=n;switch(o){case"TAG":try{e.tagPrefixes.push(Gs(e,n))}catch(t){e.errors.push(t)}s=!0;break;case"YAML":case"YAML:1.0":e.version&&e.errors.push(new qs.YAMLSemanticError(n,"The %YAML directive must only be given at most once per document."));try{e.version=Xs(e,n)}catch(t){e.errors.push(t)}s=!0;break;default:o&&e.warnings.push(new qs.YAMLWarning(n,"YAML only supports %TAG and %YAML directives, and not %"+o))}t&&r.push(t)}n&&!s&&"1.1"===(e.version||n.version||e.options.version)&&(e.tagPrefixes=n.tagPrefixes.map((({handle:e,prefix:t})=>({handle:e,prefix:t}))),e.version=n.version);e.commentBefore=r.join("\n")||null}(this,n,t),s&&(this.directivesEndMarker=!0),this.range=i?[i.start,i.end]:null,this.setSchema(),this.anchors._cstAliases=[],function(e,t){const n={before:[],after:[]};let r,s=!1;for(const o of t)if(o.valueRange){if(void 0!==r){e.errors.push(new qs.YAMLSyntaxError(o,"Document contains trailing content not separated by a ... or --- line"));break}const t=Us.resolveNode(e,o);s&&(t.spaceBefore=!0,s=!1),r=t}else null!==o.comment?(void 0===r?n.before:n.after).push(o.comment):o.type===qs.Type.BLANK_LINE&&(s=!0,void 0===r&&n.before.length>0&&!e.commentBefore&&(e.commentBefore=n.before.join("\n"),n.before=[]));if(e.contents=r||null,r){const t=n.before.join("\n");if(t){const e=r instanceof Us.Collection&&r.items[0]?r.items[0]:r;e.commentBefore=e.commentBefore?`${t}\n${e.commentBefore}`:t}e.comment=n.after.join("\n")||null}else e.comment=n.before.concat(n.after).join("\n")||null}(this,r),this.anchors.resolveNodes(),this.options.prettyErrors){for(const e of this.errors)e instanceof qs.YAMLError&&e.makePretty();for(const e of this.warnings)e instanceof qs.YAMLError&&e.makePretty()}return this}listNonDefaultTags(){return(e=>Object.keys(Vs(e,{})))(this.contents).filter((e=>0!==e.indexOf(Ws.Schema.defaultPrefix)))}setTagPrefix(e,t){if("!"!==e[0]||"!"!==e[e.length-1])throw Error("Handle must start and end with !");if(t){const n=this.tagPrefixes.find((t=>t.handle===e));n?n.prefix=t:this.tagPrefixes.push({handle:e,prefix:t})}else this.tagPrefixes=this.tagPrefixes.filter((t=>t.handle!==e))}toJSON(e,t){const{keepBlobsInJSON:n,mapAsMap:r,maxAliasCount:s}=this.options,o=n&&("string"!=typeof e||!(this.contents instanceof Us.Scalar)),i={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!r,maxAliasCount:s,stringify:Hs},a=Object.keys(this.anchors.map);a.length>0&&(i.anchors=new Map(a.map((e=>[this.anchors.map[e],{alias:[],aliasCount:0,count:1}]))));const c=Us.toJSON(this.contents,e,i);if("function"==typeof t&&i.anchors)for(const{count:e,res:n}of i.anchors.values())t(n,e);return c}toString(){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");const e=this.options.indent;if(!Number.isInteger(e)||0>=e){const t=JSON.stringify(e);throw Error('"indent" option must be a positive integer, not '+t)}this.setSchema();const t=[];let n=!1;if(this.version){let e="%YAML 1.2";"yaml-1.1"===this.schema.name&&("1.0"===this.version?e="%YAML:1.0":"1.1"===this.version&&(e="%YAML 1.1")),t.push(e),n=!0}const r=this.listNonDefaultTags();this.tagPrefixes.forEach((({handle:e,prefix:s})=>{r.some((e=>0===e.indexOf(s)))&&(t.push(`%TAG ${e} ${s}`),n=!0)})),(n||this.directivesEndMarker)&&t.push("---"),this.commentBefore&&(!n&&this.directivesEndMarker||t.unshift(""),t.unshift(this.commentBefore.replace(/^/gm,"#")));const s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Hs};let o=!1,i=null;if(this.contents){this.contents instanceof Us.Node&&(this.contents.spaceBefore&&(n||this.directivesEndMarker)&&t.push(""),this.contents.commentBefore&&t.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,i=this.contents.comment);const e=Hs(this.contents,s,(()=>i=null),i?null:()=>o=!0);t.push(Us.addComment(e,"",i))}else void 0!==this.contents&&t.push(Hs(this.contents,s));return this.comment&&(o&&!i||""===t[t.length-1]||t.push(""),t.push(this.comment.replace(/^/gm,"#"))),t.join("\n")+"\n"}}qs._defineProperty(eo,"defaults",Ks),nr.Document=eo,nr.defaultOptions={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},nr.scalarOptions=Js;var to=Ln,no=nr,ro=Jr,so=Nn,oo=Kr;class io extends no.Document{constructor(e){super(Object.assign({},no.defaultOptions,e))}}function ao(e,t){const n=to.parse(e),r=new io(t).parse(n[0]);if(n.length>1){r.errors.unshift(new so.YAMLSemanticError(n[1],"Source contains multiple documents; please use YAML.parseAllDocuments()"))}return r}const co={createNode:function(e,t=!0,n){void 0===n&&"string"==typeof t&&(n=t,t=!0);const r=Object.assign({},no.Document.defaults[no.defaultOptions.version],no.defaultOptions);return new ro.Schema(r).createNode(e,t,n)},defaultOptions:no.defaultOptions,Document:io,parse:function(e,t){const n=ao(e,t);if(n.warnings.forEach((e=>oo.warn(e))),n.errors.length>0)throw n.errors[0];return n.toJSON()},parseAllDocuments:function(e,t){const n=[];let r;for(const s of to.parse(e)){const e=new io(t);e.parse(s,r),n.push(e),r=e}return n},parseCST:to.parse,parseDocument:ao,scalarOptions:no.scalarOptions,stringify:function(e,t){const n=new io(t);return n.contents=e,n+""}};_n.YAML=co;var uo=_n.YAML,lo=function(){console.log("配置文件路径：",v.default.resolve(process.cwd(),"./config.yml"));var e=y.default.readFileSync(v.default.resolve(process.cwd(),"./config.yml"),"utf8");return uo.parse(e)};function fo(e){return ho.apply(this,arguments)}function ho(){return(ho=W(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.secret,"https://qyapi.weixin.qq.com",e.prev=2,e.next=5,vn({url:"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid="+n+"&corpsecret="+r,method:"GET",headers:{"Content-Type":"application/json"}});case 5:return e.abrupt("return",e.sent.data.access_token);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return","");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var po=function(){var e=W(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn({url:"https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token="+t,method:"POST",data:Object.assign({touser:n.touser||"@all"},n)});case 2:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();k.config();var go=process.env,mo=go.WX_COMPANY_ID,yo=go.WX_APP_ID,vo=go.WX_APP_SECRET;function bo(e){return wo.apply(this,arguments)}function wo(){return wo=W(q().mark((function e(t){var n,r,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fo({id:mo,secret:vo});case 3:return n=e.sent,r=Object.assign({msgtype:"text",agentid:yo},t),s=Object.assign(Object.assign({},r),t),e.next=8,po(n,s);case 8:return console.log("wx:信息发送成功！",e.sent),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),console.log("wx:信息发送失败！",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),wo.apply(this,arguments)}console.log({WX_COMPANY_ID:mo,WX_APP_ID:yo,WX_APP_SECRET:vo});var Eo={exports:{}};!function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",s="second",o="minute",i="hour",a="day",c="week",u="month",l="quarter",f="year",h="date",p="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var r=e+"";return r&&t>r.length?""+Array(t+1-r.length).join(n)+e:e},v={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=n%60;return(t>0?"-":"+")+y(Math.floor(n/60),2,"0")+":"+y(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(r,u),o=0>n-s,i=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-s)/(o?s-i:i-s))||0)},a:function(e){return 0>e?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:f,w:c,d:a,D:h,h:i,m:o,s:s,ms:r,Q:l}[e]||((e||"")+"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=m;var E=function(e){return e instanceof _},O=function e(t,n,r){var s;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(s=o),n&&(w[o]=n,s=o);var i=t.split("-");if(!s&&i.length>1)return e(i[0])}else{var a=t.name;w[a]=t,s=a}return!r&&s&&(b=s),s||!r&&b},x=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new _(n)},S=v;S.l=O,S.i=E,S.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function m(e){this.$L=O(e.locale,null,!0),this.parse(e)}var y=m.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var s=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return!(""+this.$d===p)},y.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return x(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<x(e)},y.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!S.u(t)||t,l=S.p(e),p=function(e,t){var s=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?s:s.endOf(a)},d=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(l){case f:return r?p(1,0):p(31,11);case u:return r?p(1,m):p(0,m+1);case c:var b=this.$locale().weekStart||0,w=(b>g?g+7:g)-b;return p(r?y-w:y+(6-w),m);case a:case h:return d(v+"Hours",0);case i:return d(v+"Minutes",1);case o:return d(v+"Seconds",2);case s:return d(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,c=S.p(e),l="set"+(this.$u?"UTC":""),p=(n={},n[a]=l+"Date",n[h]=l+"Date",n[u]=l+"Month",n[f]=l+"FullYear",n[i]=l+"Hours",n[o]=l+"Minutes",n[s]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],d=c===a?this.$D+(t-this.$W):t;if(c===u||c===f){var g=this.clone().set(h,1);g.$d[p](d),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[S.p(e)]()},y.add=function(r,l){var h,p=this;r=Number(r);var d=S.p(l),g=function(e){var t=x(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(d===u)return this.set(u,this.$M+r);if(d===f)return this.set(f,this.$y+r);if(d===a)return g(1);if(d===c)return g(7);var m=(h={},h[o]=t,h[i]=n,h[s]=e,h)[d]||1,y=this.$d.getTime()+r*m;return S.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=S.z(this),o=this.$H,i=this.$m,a=this.$M,c=n.weekdays,u=n.months,l=function(e,n,s,o){return e&&(e[n]||e(t,r))||s[n].slice(0,o)},f=function(e){return S.s(o%12||12,e,"0")},h=n.meridiem||function(e,t,n){var r=12>e?"AM":"PM";return n?r.toLowerCase():r},d={YY:(this.$y+"").slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:l(n.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:this.$W+"",dd:l(n.weekdaysMin,this.$W,c,2),ddd:l(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:o+"",HH:S.s(o,2,"0"),h:f(1),hh:f(2),a:h(o,i,!0),A:h(o,i,!1),m:i+"",mm:S.s(i,2,"0"),s:this.$s+"",ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:s};return r.replace(g,(function(e,t){return t||d[e]||s.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,h,p){var d,g=S.p(h),m=x(r),y=(m.utcOffset()-this.utcOffset())*t,v=this-m,b=S.m(this,m);return b=(d={},d[f]=b/12,d[u]=b,d[l]=b/3,d[c]=(v-y)/6048e5,d[a]=(v-y)/864e5,d[i]=v/n,d[o]=v/t,d[s]=v/e,d)[g]||v,p?b:S.a(b)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return w[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=O(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),L=_.prototype;return x.prototype=L,[["$ms",r],["$s",s],["$m",o],["$H",i],["$W",a],["$M",u],["$y",f],["$D",h]].forEach((function(e){L[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,_,x),e.$i=!0),x},x.locale=O,x.isDayjs=E,x.unix=function(e){return x(1e3*e)},x.en=w[b],x.Ls=w,x.p={},x}()}(Eo);var Oo=Eo.exports;Oo.extend(M.default),Oo.extend(C.default);var xo=lo().loveMsg,So=function(e){var t=e.caiHongpi,n=e.sayLove,r=e.songLyrics,s=e.oneMagazines,o=e.netEaseCloud,i=e.oneWord,a=e.dayEnglish,c="早安呀，我可爱的"+xo.girl_name+"~\n";return t&&(c+="\n"+t.content+"\n"),n&&(c+="\n"+n.content+"\n"),r&&(c+="\n『"+r.source+"』"+r.content+"\n"),s&&(c+="\n『ONE杂志』"+s.word+"\n"),o&&(c+="\n『网易云音乐热评』"+o.content+"——"+o.source+"\n"),i&&(c+="\n『一言』"+i.hitokoto+"\n"),a&&(c+="\n『每日英语（"+Oo(a.date).format("ll")+"』"+a.content),{msgtype:"text",text:{content:c}}},_o=function(e,t){return Math.round(Math.random()*(t-e))+e},Lo=function(e,t,n){if(t.my_love_message_show){var r=_o(1,t.my_love_message_content.length);if(t.my_love_message_content[r-1].includes("彩蛋")){var s=_o(1,Math.floor(t.my_love_message_egg_probability/r));if(r===s)r=s,n.isEmpty=!1;else{var o=t.my_love_message_content.filter((function(e){return!e.includes("彩蛋")}));r=_o(1,o.length)}}n.todayIsBirthday&&("girl"===n.who&&(r=t.my_love_message_content.length-2),"boy"===n.who&&(r=t.my_love_message_content.length-1));var i=t.my_love_message_content[r-1];i&&(e+="\n"+i),e+="\n"}return e},No=function(e,t,n,r){var s=n.substring(0,4),o=t.memorial_day,i=t.memorial_day_message,a=t.memorial_day_message_now,c=t.memorial_day_day,u=t.girl_birthday_show,l=t.girl_birthday_date,f=t.girl_birthday_day,h=t.girl_birthday_message,p=t.girl_birthday_message_now,d=t.boy_birthday_show,g=t.boy_birthday_date,m=t.boy_birthday_day,y=t.boy_birthday_message,v=t.boy_birthday_message_now;if(t.memorial_day_show){var b="",w=Oo(s+o.substring(5)).diff(n,"day");if(0===w){var E=Oo(n).diff(o,"year");b=a.replace("{year}",""+E)}w>0&&c>=w&&(b=i.replace("{day}",""+w)),b&&(e+="\n"+b,r.isEmpty=!1)}if(u){var O="",x=Oo(s+"/"+l).diff(n,"day");0===x&&(O=p,r.todayIsBirthday=!0,r.who="girl"),x>0&&f>=x&&(O=h.replace("{day}",""+x)),O&&(e+="\n"+O,r.isEmpty=!1)}if(d){var S="",_=Oo(s+"/"+g).diff(n,"day");0===_&&(S=v,r.todayIsBirthday=!0,r.who="boy"),_>0&&m>=_&&(S=y.replace("{day}",""+_)),S&&(e+="\n"+S,r.isEmpty=!1)}return e},Ao=lo().loveMsg,To=function(e){var t=e.area,n=e.date,r=e.weather,s=e.highest,o=e.lowest,i=e.wind,a=e.windsc,c=e.week,u=e.pcpn,l=e.tips,f=e.lunarInfo,h=!1,p=n.replace("-","年").replace("-","月")+"日",d=Oo(n).diff(Ao.start_stamp,"day"),g="📍"+t+" | "+p+" | "+c;if(Ao.date_lunarInfo&&f){var m=f.festival,y=f.lunar_festival,v=f.jieqi;g+=(m?"| "+m:"")+"\n📆农历 | "+f.lubarmonth+f.lunarday+" "+(y?"| "+y:"")+" "+(v?"| "+v:"")+"\n"}if(Ao.date_huangli&&f){var b=!0;f.fitness&&(g+="\n🌝【宜】"+f.fitness.replace(/\./g," ")+"\n",b=!1),f.taboo&&(b&&(g+="\n"),g+="🌚【忌】"+f.taboo.replace(/\./g," ")+"\n")}if(g+="\n🖼今日天气状况：\n⛅天气："+r+"\n🎐"+i+"："+a+"\n🌡温度："+o+" ~ "+s+"\n",r.includes("雨")&&(g+="🌧降雨量："+u+"mm\n"),Ao.weather_low_show&&o&&+o.replace("℃","")<=Ao.weather_low_tem){var w=1===Ao.weather_low_message.length?1:_o(1,Ao.weather_low_message.length);g+="\n"+Ao.weather_low_message[w-1].replace("{low}",o)+"\n"}if(Ao.weather_hight_show&&s&&+s.replace("℃","")>=Ao.weather_hight_tem){var E=1===Ao.weather_hight_message.length?1:_o(1,Ao.weather_hight_message.length);g+="\n"+Ao.weather_hight_message[E-1].replace("{hight}",s)+"\n"}if(!Ao.tips_card_show){var O={todayIsBirthday:!1,who:"",isEmpty:!0},x=g;if(g=No(g,Ao,n,O),g=Lo(g,Ao,O),Ao.tips_card_show_byMessage&&(O.isEmpty||(h=!0,g=x)),!h){var S=g;Ao.weather_tips&&l&&(g+="\n📋小建议:\n  "+l+"\n"),Ao.card_end_message&&(g+="\n"+Ao.card_end_message),Buffer.byteLength(g,"utf8")>512?(g=x,h=!0):g=S}}return Ao.weather_tips&&l&&(g+="\n📋小建议:\n"+l+"\n"),Ao.card_end_message&&(g+=""+Ao.card_end_message),{isMoreThan:h,msgtype:"textcard",textcard:{title:Ao.start_stamp_message.replace("{day}",""+d),description:g,url:""+Ao.card_url,btntxt:"By"+Ao.boy_name}}},Mo=function(e){var t=e.oneWord,n="",r={todayIsBirthday:!1,who:"",isEmpty:!0};return n=No(n,Ao,e.date,r),r.isEmpty||(n+="\n"),n=Lo(n,Ao,r),Ao.tips_card_oneWord&&(n+="\n"+(null==t?void 0:t.hitokoto)+"—— "+(null==t?void 0:t.creator)+"「"+(null==t?void 0:t.from)+"」"),{msgtype:"textcard",textcard:{title:Ao.tips_card_title,description:n+=Ao.tips_card_end_message,url:""+Ao.tips_card_url,btntxt:"By"+Ao.boy_name}}},Co=lo().loveMsg,ko=function(){var e=W(q().mark((function e(){var t,n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.allSettled([Sn.getSaylove(),Sn.getCaihongpi(),Sn.getOneWord(),Sn.getSongLyrics(),Sn.getOneMagazines(),Sn.getNetEaseCloud(),Sn.getDayEnglish()]);case 3:t=e.sent.map((function(e){return"fulfilled"===e.status?e.value:null})),n=So({sayLove:t[0],caiHongpi:t[1],oneWord:t[2],songLyrics:t[3],oneMagazines:t[4],netEaseCloud:t[5],dayEnglish:t[6]}),console.log("goodWord",n),bo(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("goodWord:err",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),$o=function(){var e=W(q().mark((function e(){var t,n,r,s,o,i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sn.getWeather(Co.city_name);case 3:if(!(t=e.sent)){e.next=22;break}return e.next=7,Sn.getLunarDate(t.date);case 7:return n=e.sent,e.next=10,Sn.getOneWord();case 10:return r=e.sent,s=To(Object.assign(Object.assign({},t),{lunarInfo:n})),o=s.isMoreThan,i=J(s,["isMoreThan"]),console.log("weatherInfo",i),e.next=16,bo(i);case 16:if(!Co.tips_card_show&&!o){e.next=22;break}if(a=Mo(Object.assign(Object.assign({},t),{lunarInfo:n,oneWord:r})),console.log("tips",a),!a.textcard.description.replace(/\n/g,"").length){e.next=22;break}return e.next=22,bo(a);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log("weatherInfo:err",e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}(),Ro=function(){var e=W(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o();case 2:return e.next=4,ko();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Po=function(){var e=W(q().mark((function e(){var t,n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.getJoke();case 2:return t="今日份午安来喽:\n",t+="\n请欣赏以下雷人笑话😝\n",t+="\n"+e.sent.map((function(e){return"『"+e.title+"』"+e.content})).join("\n\n"),n={msgtype:"text",text:{content:t}},e.next=9,bo(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Io=function(){var e=W(q().mark((function e(){var t,n,r,s,o,i,a,c,u,l;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sn.getTianTopNews();case 3:if(console.log("todayTopNews",(t=e.sent).length),n=[],(r=t.length)<16){e.next=11;break}n=t.slice(0,16),e.next=19;break;case 11:return n=t.slice(0,8>r?r:8),e.next=14,Sn.getDailyBriefing();case 14:console.log("dailyBriefing",(s=e.sent).length),o=s.map((function(e){return Object.assign(Object.assign({},e),{title:e.title,description:e.digest,picUrl:e.imgsrc,ctime:e.mtime})})),8===n.length&&(n=[].concat(n,o.slice(0,8>o.length?o.length:8))),8>n.length&&(n=[].concat(n,o.slice(n.length,16>n.length+o.length?o.length:16)));case 19:i=Math.ceil(n.length/8),a=0;case 21:if(i<=a){e.next=31;break}return console.log(n.length,c=8*a,u=n.length>8*a+8?8*a+8:n.length),f=n.slice(c,u),h=void 0,h=[],f&&Array.isArray(f)&&(h=f.map((function(e){return{title:e.title,description:e.description,url:e.url,picurl:e.picUrl}}))),console.log(JSON.stringify(h,null,2)),l={msgtype:"news",news:{articles:h}},e.next=28,bo(l);case 28:a++,e.next=21;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(0),console.log("goodEvening",e.t0);case 36:case"end":return e.stop()}var f,h}),e,null,[[0,33]])})));return function(){return e.apply(this,arguments)}}(),Bo=function(){var e=W(q().mark((function e(){var t,n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.getStorybook();case 2:return n={msgtype:"text",text:{content:"给鱼崽的今日份睡前故事来喽：\n🌑🌒🌓🌔🌕🌝😛\n\n『"+(t=e.sent).title+"』\n"+t.content}},e.next=6,bo(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jo=function(){var e=W(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo();case 2:return e.next=4,Io();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k.config();var Fo=process.env.MESSAGE_TYPE;e.main_handler=function(){"goodAfternoon"===Fo?Po():"goodEvening"===Fo?jo():Ro()},Object.defineProperty(e,"__esModule",{value:!0})}));
